{"version":3,"file":"files-reference-files.js?v=e97873f901bcd4ae2cb7","mappings":"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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/apps/files/src/views/ReferenceFileWidget.vue","webpack:///nextcloud/apps/files/src/views/ReferenceFileWidget.vue?vue&type=script&lang=js","webpack://nextcloud/./apps/files/src/views/ReferenceFileWidget.vue?45bb","webpack://nextcloud/./apps/files/src/views/ReferenceFileWidget.vue?1c02","webpack://nextcloud/./apps/files/src/views/ReferenceFileWidget.vue?6acb","webpack://nextcloud/./apps/files/src/views/FileReferencePickerElement.vue?50c6","webpack:///nextcloud/apps/files/src/views/FileReferencePickerElement.vue","webpack:///nextcloud/apps/files/src/views/FileReferencePickerElement.vue?vue&type=script&lang=js","webpack://nextcloud/./apps/files/src/views/FileReferencePickerElement.vue?545e","webpack://nextcloud/./apps/files/src/views/FileReferencePickerElement.vue?71ed","webpack:///nextcloud/apps/files/src/reference-files.js","webpack:///nextcloud/apps/files/src/views/FileReferencePickerElement.vue?vue&type=style&index=0&id=2dd87592&prod&scoped=true&lang=scss","webpack:///nextcloud/apps/files/src/views/ReferenceFileWidget.vue?vue&type=style&index=0&id=3f729da0&prod&lang=scss&scoped=true","webpack:///nextcloud/node_modules/@nextcloud/vue/dist/chunks/NcRichText-1e8fd02d.mjs","webpack:///nextcloud/node_modules/@nextcloud/vue/dist/chunks/referencePickerModal-6bc8f6b9.mjs","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","<!--\n  - @copyright Copyright (c) 2022 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div v-if=\"!accessible\" class=\"widget-file widget-file--no-access\">\n\t\t<div class=\"widget-file--image widget-file--image--icon icon-folder\" />\n\t\t<div class=\"widget-file--details\">\n\t\t\t<p class=\"widget-file--title\">\n\t\t\t\t{{ t('files', 'File cannot be accessed') }}\n\t\t\t</p>\n\t\t\t<p class=\"widget-file--description\">\n\t\t\t\t{{ t('files', 'You might not have have permissions to view it, ask the sender to share it') }}\n\t\t\t</p>\n\t\t</div>\n\t</div>\n\t<a v-else\n\t\tclass=\"widget-file\"\n\t\t:href=\"richObject.link\"\n\t\t@click.prevent=\"navigate\">\n\t\t<div class=\"widget-file--image\" :class=\"filePreviewClass\" :style=\"filePreview\" />\n\t\t<div class=\"widget-file--details\">\n\t\t\t<p class=\"widget-file--title\">{{ richObject.name }}</p>\n\t\t\t<p class=\"widget-file--description\">{{ fileSize }}<br>{{ fileMtime }}</p>\n\t\t\t<p class=\"widget-file--link\">{{ filePath }}</p>\n\t\t</div>\n\t</a>\n</template>\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport path from 'path'\n\nexport default {\n\tname: 'ReferenceFileWidget',\n\tprops: {\n\t\trichObject: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpreviewUrl: window.OC.MimeType.getIconUrl(this.richObject.mimetype),\n\t\t}\n\t},\n\tcomputed: {\n\t\tfileSize() {\n\t\t\treturn window.OC.Util.humanFileSize(this.richObject.size)\n\t\t},\n\t\tfileMtime() {\n\t\t\treturn window.OC.Util.relativeModifiedDate(this.richObject.mtime * 1000)\n\t\t},\n\t\tfilePath() {\n\t\t\treturn path.dirname(this.richObject.path)\n\t\t},\n\t\tfilePreview() {\n\t\t\tif (this.previewUrl) {\n\t\t\t\treturn {\n\t\t\t\t\tbackgroundImage: 'url(' + this.previewUrl + ')',\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbackgroundImage: 'url(' + window.OC.MimeType.getIconUrl(this.richObject.mimetype) + ')',\n\t\t\t}\n\n\t\t},\n\t\tfilePreviewClass() {\n\t\t\tif (this.previewUrl) {\n\t\t\t\treturn 'widget-file--image--preview'\n\t\t\t}\n\t\t\treturn 'widget-file--image--icon'\n\n\t\t},\n\t},\n\tmounted() {\n\t\tif (this.richObject['preview-available']) {\n\t\t\tconst previewUrl = generateUrl('/core/preview?fileId={fileId}&x=250&y=250', {\n\t\t\t\tfileId: this.richObject.id,\n\t\t\t})\n\t\t\tconst img = new Image()\n\t\t\timg.onload = () => {\n\t\t\t\tthis.previewUrl = previewUrl\n\t\t\t}\n\t\t\timg.onerror = err => {\n\t\t\t\tconsole.error('could not load recommendation preview', err)\n\t\t\t}\n\t\t\timg.src = previewUrl\n\t\t}\n\t},\n\tmethods: {\n\t\tnavigate() {\n\t\t\tif (OCA.Viewer && OCA.Viewer.mimetypes.indexOf(this.richObject.mimetype) !== -1) {\n\t\t\t\tOCA.Viewer.open({ path: this.richObject.path })\n\t\t\t\treturn\n\t\t\t}\n\t\t\twindow.location = this.richObject.link\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.widget-file {\n\tdisplay: flex;\n\tflex-grow: 1;\n\tcolor: var(--color-main-text) !important;\n\ttext-decoration: none !important;\n\n\t&--image {\n\t\tmin-width: 40%;\n\t\tbackground-position: center;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\n\t\t&.widget-file--image--icon {\n\t\t\tmin-width: 88px;\n\t\t\tbackground-size: 44px;\n\t\t}\n\t}\n\n\t&--title {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tfont-weight: bold;\n\t}\n\n\t&--details {\n\t\tpadding: 12px;\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\tp {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\n\t&--description {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 3;\n\t\tline-clamp: 3;\n\t\t-webkit-box-orient: vertical;\n\t}\n\n\t&--link {\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n\n\t&.widget-file--no-access {\n\t\tpadding: 12px;\n\n\t\t.widget-file--details {\n\t\t\tpadding: 0;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReferenceFileWidget.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReferenceFileWidget.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReferenceFileWidget.vue?vue&type=style&index=0&id=3f729da0&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReferenceFileWidget.vue?vue&type=style&index=0&id=3f729da0&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ReferenceFileWidget.vue?vue&type=template&id=3f729da0&scoped=true\"\nimport script from \"./ReferenceFileWidget.vue?vue&type=script&lang=js\"\nexport * from \"./ReferenceFileWidget.vue?vue&type=script&lang=js\"\nimport style0 from \"./ReferenceFileWidget.vue?vue&type=style&index=0&id=3f729da0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f729da0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.accessible)?_c('div',{staticClass:\"widget-file widget-file--no-access\"},[_c('div',{staticClass:\"widget-file--image widget-file--image--icon icon-folder\"}),_vm._v(\" \"),_c('div',{staticClass:\"widget-file--details\"},[_c('p',{staticClass:\"widget-file--title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files', 'File cannot be accessed'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('p',{staticClass:\"widget-file--description\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files', 'You might not have have permissions to view it, ask the sender to share it'))+\"\\n\\t\\t\")])])]):_c('a',{staticClass:\"widget-file\",attrs:{\"href\":_vm.richObject.link},on:{\"click\":function($event){$event.preventDefault();return _vm.navigate.apply(null, arguments)}}},[_c('div',{staticClass:\"widget-file--image\",class:_vm.filePreviewClass,style:(_vm.filePreview)}),_vm._v(\" \"),_c('div',{staticClass:\"widget-file--details\"},[_c('p',{staticClass:\"widget-file--title\"},[_vm._v(_vm._s(_vm.richObject.name))]),_vm._v(\" \"),_c('p',{staticClass:\"widget-file--description\"},[_vm._v(_vm._s(_vm.fileSize)),_c('br'),_vm._v(_vm._s(_vm.fileMtime))]),_vm._v(\" \"),_c('p',{staticClass:\"widget-file--link\"},[_vm._v(_vm._s(_vm.filePath))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"picker\",staticClass:\"reference-file-picker\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2023 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div ref=\"picker\" class=\"reference-file-picker\" />\n</template>\n\n<script>\nimport { FilePickerType } from '@nextcloud/dialogs'\nimport { generateUrl } from '@nextcloud/router'\nexport default {\n\tname: 'FileReferencePickerElement',\n\tcomponents: {\n\t},\n\tprops: {\n\t\tproviderId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.openFilePicker()\n\t\twindow.addEventListener('click', this.onWindowClick)\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('click', this.onWindowClick)\n\t},\n\tmethods: {\n\t\tonWindowClick(e) {\n\t\t\tif (e.target.tagName === 'A' && e.target.classList.contains('oc-dialog-close')) {\n\t\t\t\tthis.$emit('cancel')\n\t\t\t}\n\t\t},\n\t\tasync openFilePicker() {\n\t\t\tOC.dialogs.filepicker(\n\t\t\t\tt('files', 'Select file or folder to link to'),\n\t\t\t\t(file) => {\n\t\t\t\t\tconst client = OC.Files.getClient()\n\t\t\t\t\tclient.getFileInfo(file).then((_status, fileInfo) => {\n\t\t\t\t\t\tthis.submit(fileInfo.id)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfalse, // multiselect\n\t\t\t\t[], // mime filter\n\t\t\t\tfalse, // modal\n\t\t\t\tFilePickerType.Choose, // type\n\t\t\t\t'',\n\t\t\t\t{\n\t\t\t\t\ttarget: this.$refs.picker,\n\t\t\t\t},\n\t\t\t)\n\t\t},\n\t\tsubmit(fileId) {\n\t\t\tconst fileLink = window.location.protocol + '//' + window.location.host\n\t\t\t\t+ generateUrl('/f/{fileId}', { fileId })\n\t\t\tthis.$emit('submit', fileLink)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.reference-file-picker {\n\tflex-grow: 1;\n\tpadding: 12px 16px 16px 16px;\n\n\t&:deep(.oc-dialog) {\n\t\ttransform: none !important;\n\t\tbox-shadow: none !important;\n\t\tflex-grow: 1 !important;\n\t\tposition: static !important;\n\t\twidth: 100% !important;\n\t\theight: auto !important;\n\t\tpadding: 0 !important;\n\t\tmax-width: initial;\n\n\t\t.oc-dialog-close {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.oc-dialog-buttonrow.onebutton.aside {\n\t\t\tposition: absolute;\n\t\t\tpadding: 12px 32px;\n\t\t}\n\n\t\t.oc-dialog-content {\n\t\t\tmax-width: 100% !important;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileReferencePickerElement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileReferencePickerElement.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileReferencePickerElement.vue?vue&type=style&index=0&id=2dd87592&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileReferencePickerElement.vue?vue&type=style&index=0&id=2dd87592&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FileReferencePickerElement.vue?vue&type=template&id=2dd87592&scoped=true\"\nimport script from \"./FileReferencePickerElement.vue?vue&type=script&lang=js\"\nexport * from \"./FileReferencePickerElement.vue?vue&type=script&lang=js\"\nimport style0 from \"./FileReferencePickerElement.vue?vue&type=style&index=0&id=2dd87592&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dd87592\",\n  null\n  \n)\n\nexport default component.exports","/**\n * @copyright Copyright (c) 2022 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Vue from 'vue'\nimport { translate as t } from '@nextcloud/l10n'\n\nimport { registerWidget, registerCustomPickerElement, NcCustomPickerRenderResult } from '@nextcloud/vue/dist/Components/NcRichText.js'\n\nimport FileWidget from './views/ReferenceFileWidget.vue'\nimport FileReferencePickerElement from './views/FileReferencePickerElement.vue'\n\nVue.mixin({\n\tmethods: {\n\t\tt,\n\t},\n})\n\nregisterWidget('file', (el, { richObjectType, richObject, accessible }) => {\n\tconst Widget = Vue.extend(FileWidget)\n\tnew Widget({\n\t\tpropsData: {\n\t\t\trichObjectType,\n\t\t\trichObject,\n\t\t\taccessible,\n\t\t},\n\t}).$mount(el)\n})\n\nregisterCustomPickerElement('files', (el, { providerId, accessible }) => {\n\tconst Element = Vue.extend(FileReferencePickerElement)\n\tconst vueElement = new Element({\n\t\tpropsData: {\n\t\t\tproviderId,\n\t\t\taccessible,\n\t\t},\n\t}).$mount(el)\n\treturn new NcCustomPickerRenderResult(vueElement.$el, vueElement)\n}, (el, renderResult) => {\n\trenderResult.object.$destroy()\n})\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.reference-file-picker[data-v-2dd87592]{flex-grow:1;padding:12px 16px 16px 16px}.reference-file-picker[data-v-2dd87592] .oc-dialog{transform:none !important;box-shadow:none !important;flex-grow:1 !important;position:static !important;width:100% !important;height:auto !important;padding:0 !important;max-width:initial}.reference-file-picker[data-v-2dd87592] .oc-dialog .oc-dialog-close{display:none}.reference-file-picker[data-v-2dd87592] .oc-dialog .oc-dialog-buttonrow.onebutton.aside{position:absolute;padding:12px 32px}.reference-file-picker[data-v-2dd87592] .oc-dialog .oc-dialog-content{max-width:100% !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files/src/views/FileReferencePickerElement.vue\"],\"names\":[],\"mappings\":\"AACA,wCACC,WAAA,CACA,2BAAA,CAEA,mDACC,yBAAA,CACA,0BAAA,CACA,sBAAA,CACA,0BAAA,CACA,qBAAA,CACA,sBAAA,CACA,oBAAA,CACA,iBAAA,CAEA,oEACC,YAAA,CAGD,wFACC,iBAAA,CACA,iBAAA,CAGD,sEACC,yBAAA\",\"sourcesContent\":[\"\\n.reference-file-picker {\\n\\tflex-grow: 1;\\n\\tpadding: 12px 16px 16px 16px;\\n\\n\\t&:deep(.oc-dialog) {\\n\\t\\ttransform: none !important;\\n\\t\\tbox-shadow: none !important;\\n\\t\\tflex-grow: 1 !important;\\n\\t\\tposition: static !important;\\n\\t\\twidth: 100% !important;\\n\\t\\theight: auto !important;\\n\\t\\tpadding: 0 !important;\\n\\t\\tmax-width: initial;\\n\\n\\t\\t.oc-dialog-close {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\n\\t\\t.oc-dialog-buttonrow.onebutton.aside {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\tpadding: 12px 32px;\\n\\t\\t}\\n\\n\\t\\t.oc-dialog-content {\\n\\t\\t\\tmax-width: 100% !important;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.widget-file[data-v-3f729da0]{display:flex;flex-grow:1;color:var(--color-main-text) !important;text-decoration:none !important}.widget-file--image[data-v-3f729da0]{min-width:40%;background-position:center;background-size:cover;background-repeat:no-repeat}.widget-file--image.widget-file--image--icon[data-v-3f729da0]{min-width:88px;background-size:44px}.widget-file--title[data-v-3f729da0]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:bold}.widget-file--details[data-v-3f729da0]{padding:12px;flex-grow:1;display:flex;flex-direction:column}.widget-file--details p[data-v-3f729da0]{margin:0;padding:0}.widget-file--description[data-v-3f729da0]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical}.widget-file--link[data-v-3f729da0]{color:var(--color-text-maxcontrast)}.widget-file.widget-file--no-access[data-v-3f729da0]{padding:12px}.widget-file.widget-file--no-access .widget-file--details[data-v-3f729da0]{padding:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files/src/views/ReferenceFileWidget.vue\"],\"names\":[],\"mappings\":\"AACA,8BACC,YAAA,CACA,WAAA,CACA,uCAAA,CACA,+BAAA,CAEA,qCACC,aAAA,CACA,0BAAA,CACA,qBAAA,CACA,2BAAA,CAEA,8DACC,cAAA,CACA,oBAAA,CAIF,qCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CAGD,uCACC,YAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CAEA,yCACC,QAAA,CACA,SAAA,CAIF,2CACC,eAAA,CACA,sBAAA,CACA,mBAAA,CACA,oBAAA,CACA,YAAA,CACA,2BAAA,CAGD,oCACC,mCAAA,CAGD,qDACC,YAAA,CAEA,2EACC,SAAA\",\"sourcesContent\":[\"\\n.widget-file {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\tcolor: var(--color-main-text) !important;\\n\\ttext-decoration: none !important;\\n\\n\\t&--image {\\n\\t\\tmin-width: 40%;\\n\\t\\tbackground-position: center;\\n\\t\\tbackground-size: cover;\\n\\t\\tbackground-repeat: no-repeat;\\n\\n\\t\\t&.widget-file--image--icon {\\n\\t\\t\\tmin-width: 88px;\\n\\t\\t\\tbackground-size: 44px;\\n\\t\\t}\\n\\t}\\n\\n\\t&--title {\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t\\tfont-weight: bold;\\n\\t}\\n\\n\\t&--details {\\n\\t\\tpadding: 12px;\\n\\t\\tflex-grow: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\n\\t\\tp {\\n\\t\\t\\tmargin: 0;\\n\\t\\t\\tpadding: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t&--description {\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\tdisplay: -webkit-box;\\n\\t\\t-webkit-line-clamp: 3;\\n\\t\\tline-clamp: 3;\\n\\t\\t-webkit-box-orient: vertical;\\n\\t}\\n\\n\\t&--link {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n\\n\\t&.widget-file--no-access {\\n\\t\\tpadding: 12px;\\n\\n\\t\\t.widget-file--details {\\n\\t\\t\\tpadding: 0;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { N as b } from \"./referencePickerModal-6bc8f6b9.mjs\";\nimport h from \"@nextcloud/axios\";\nimport { generateOcsUrl as d } from \"@nextcloud/router\";\nimport { n as g } from \"./_plugin-vue2_normalizer-71e2aa87.mjs\";\nimport { visit as _, SKIP as v } from \"unist-util-visit\";\nimport { u as l } from \"unist-builder\";\nimport { unified as y } from \"unified\";\nimport w from \"remark-parse\";\nimport R from \"remark-breaks\";\nimport N from \"remark-rehype\";\nimport A from \"rehype-react\";\nimport L from \"rehype-external-links\";\nconst m = /(\\s|^)(https?:\\/\\/)((?:[-A-Z0-9+_]+\\.)+[-A-Z]+(?:\\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*)(\\s|$)/ig, x = /(\\s|\\(|^)((https?:\\/\\/)((?:[-A-Z0-9+_]+\\.)+[-A-Z0-9]+(?::[0-9]+)?(?:\\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*))(?=\\s|\\)|$)/ig, $ = {\n  name: \"NcReferenceList\",\n  components: {\n    NcReferenceWidget: b\n  },\n  props: {\n    text: {\n      type: String,\n      default: \"\"\n    },\n    referenceData: {\n      type: Object,\n      default: null\n    },\n    limit: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      references: null,\n      loading: !0\n    };\n  },\n  computed: {\n    isVisible() {\n      return this.loading || this.displayedReferences;\n    },\n    values() {\n      return this.referenceData ? this.referenceData : this.references ? Object.values(this.references) : [];\n    },\n    firstReference() {\n      var e;\n      return (e = this.values[0]) != null ? e : null;\n    },\n    displayedReferences() {\n      return this.values.slice(0, this.limit);\n    }\n  },\n  watch: {\n    text: \"fetch\"\n  },\n  mounted() {\n    this.fetch();\n  },\n  methods: {\n    fetch() {\n      if (this.loading = !0, this.referenceData) {\n        this.loading = !1;\n        return;\n      }\n      if (!new RegExp(m).exec(this.text)) {\n        this.loading = !1;\n        return;\n      }\n      this.resolve().then((e) => {\n        this.references = e.data.ocs.data.references, this.loading = !1;\n      }).catch((e) => {\n        console.error(\"Failed to extract references\", e), this.loading = !1;\n      });\n    },\n    resolve() {\n      const e = new RegExp(m).exec(this.text.trim());\n      return this.limit === 1 && e ? h.get(d(\"references/resolve\", 2) + `?reference=${encodeURIComponent(e[0])}`) : h.post(d(\"references/extract\", 2), {\n        text: this.text,\n        resolve: !0,\n        limit: this.limit\n      });\n    }\n  }\n};\nvar j = function() {\n  var s = this, t = s._self._c;\n  return s.isVisible ? t(\"div\", { staticClass: \"widgets--list\", class: { \"icon-loading\": s.loading } }, s._l(s.displayedReferences, function(r) {\n    var i;\n    return t(\"div\", { key: (i = r == null ? void 0 : r.openGraphObject) == null ? void 0 : i.id }, [t(\"NcReferenceWidget\", { attrs: { reference: r } })], 1);\n  }), 0) : s._e();\n}, T = [], O = /* @__PURE__ */ g(\n  $,\n  j,\n  T,\n  !1,\n  null,\n  \"bd1fbb02\",\n  null,\n  null\n);\nconst f = O.exports, C = {\n  name: \"NcLink\",\n  props: {\n    href: {\n      type: String,\n      required: !0\n    }\n  },\n  render(e) {\n    return e(\"a\", {\n      attrs: {\n        href: this.href,\n        rel: \"noopener noreferrer\",\n        target: \"_blank\",\n        class: \"rich-text--external-link\"\n      }\n    }, [this.href.trim()]);\n  }\n}, M = function({ autolink: e, useMarkdown: s }) {\n  return function(t) {\n    !s || !e || _(t, (r) => r.type === \"text\", (r, i, n) => {\n      let c = k(r.value);\n      return c = c.map((a) => typeof a == \"string\" ? l(\"text\", a) : l(\"link\", {\n        url: a.props.href\n      }, [l(\"text\", a.props.href)])).filter((a) => a), n.children.splice(i, 1, ...c.flat()), [v, i + c.flat().length];\n    });\n  };\n}, k = (e) => {\n  let s = x.exec(e);\n  const t = [];\n  let r = 0;\n  for (; s !== null; ) {\n    let n = s[2], c, a = e.substring(r, s.index + s[1].length);\n    n[0] === \" \" && (a += n[0], n = n.substring(1).trim());\n    const o = n[n.length - 1];\n    (o === \".\" || o === \",\" || o === \";\" || s[0][0] === \"(\" && o === \")\") && (n = n.substring(0, n.length - 1), c = o), t.push(a), t.push({ component: C, props: { href: n } }), c && t.push(c), r = s.index + s[0].length, s = x.exec(e);\n  }\n  t.push(e.substring(r));\n  const i = t.map((n) => typeof n == \"string\" ? n : n.props.href).join(\"\");\n  return e === i ? t : (console.error(\"Failed to reassemble the chunked text: \" + e), e);\n}, D = function() {\n  return function(e) {\n    _(e, (t) => t.type === \"text\", s);\n    function s(t, r, i) {\n      const n = t.value.split(/(\\{[a-z\\-_.0-9]+\\})/ig).map((c, a, o) => {\n        const p = c.match(/^\\{([a-z\\-_.0-9]+)\\}$/i);\n        if (!p)\n          return l(\"text\", c);\n        const [, u] = p;\n        return l(\"element\", {\n          tagName: `#${u}`\n        });\n      });\n      i.children.splice(r, 1, ...n);\n    }\n  };\n}, E = ({ h: e, context: s }, t) => (s.autolink && (t = k(t)), Array.isArray(t) ? t.map((r) => {\n  if (typeof r == \"string\")\n    return r;\n  const { component: i, props: n } = r, c = i.name === \"NcLink\" ? void 0 : \"rich-text--component\";\n  return e(i, {\n    props: n,\n    class: c\n  });\n}) : t), P = {\n  name: \"NcRichText\",\n  components: {\n    NcReferenceList: f\n  },\n  props: {\n    text: {\n      type: String,\n      default: \"\"\n    },\n    arguments: {\n      type: Object,\n      default: () => ({})\n    },\n    referenceLimit: {\n      type: Number,\n      default: 0\n    },\n    /** Provide data upfront to avoid extra http request */\n    references: {\n      type: Object,\n      default: null\n    },\n    markdownCssClasses: {\n      type: Object,\n      default: () => ({\n        a: \"rich-text--external-link\",\n        ol: \"rich-text--ordered-list\",\n        ul: \"rich-text--un-ordered-list\",\n        li: \"rich-text--list-item\",\n        strong: \"rich-text--strong\",\n        em: \"rich-text--italic\",\n        h1: \"rich-text--heading rich-text--heading-1\",\n        h2: \"rich-text--heading rich-text--heading-2\",\n        h3: \"rich-text--heading rich-text--heading-3\",\n        h4: \"rich-text--heading rich-text--heading-4\",\n        h5: \"rich-text--heading rich-text--heading-5\",\n        h6: \"rich-text--heading rich-text--heading-6\",\n        hr: \"rich-text--hr\",\n        table: \"rich-text--table\",\n        pre: \"rich-text--pre\",\n        code: \"rich-text--code\",\n        blockquote: \"rich-text--blockquote\"\n      })\n    },\n    useMarkdown: {\n      type: Boolean,\n      default: !1\n    },\n    autolink: {\n      type: Boolean,\n      default: !0\n    }\n  },\n  methods: {\n    renderPlaintext(e) {\n      const s = this, t = this.text.split(/(\\{[a-z\\-_.0-9]+\\})/ig).map(function(r, i, n) {\n        const c = r.match(/^\\{([a-z\\-_.0-9]+)\\}$/i);\n        if (!c)\n          return E({ h: e, context: s }, r);\n        const a = c[1], o = s.arguments[a];\n        if (typeof o == \"object\") {\n          const { component: p, props: u } = o;\n          return e(p, {\n            props: u,\n            class: \"rich-text--component\"\n          });\n        }\n        return o ? e(\"span\", { class: \"rich-text--fallback\" }, o) : r;\n      });\n      return e(\"div\", { class: \"rich-text--wrapper\" }, [\n        e(\"div\", {}, t.flat()),\n        this.referenceLimit > 0 ? e(\"div\", { class: \"rich-text--reference-widget\" }, [\n          e(f, { props: { text: this.text, referenceData: this.references } })\n        ]) : null\n      ]);\n    },\n    renderMarkdown(e) {\n      const s = y().use(w).use(M, {\n        autolink: this.autolink,\n        useMarkdown: this.useMarkdown\n      }).use(R).use(N, {\n        handlers: {\n          component(t, r) {\n            return t(r, r.component, { value: r.value });\n          }\n        }\n      }).use(D).use(L, {\n        target: \"_blank\",\n        rel: [\"noopener noreferrer\"]\n      }).use(A, {\n        createElement: (t, r, i) => {\n          if (i = i == null ? void 0 : i.map(\n            (c) => typeof c == \"string\" ? c.replace(/&lt;/gmi, \"<\") : c\n          ), !t.startsWith(\"#\"))\n            return e(t, r, i);\n          const n = this.arguments[t.slice(1)];\n          return n ? n.component ? e(\n            n.component,\n            {\n              attrs: r,\n              props: n.props,\n              class: \"rich-text--component\"\n            },\n            i\n          ) : e(\"span\", r, [n]) : e(\"span\", { attrs: r, class: \"rich-text--fallback\" }, [`{${t.slice(1)}}`]);\n        },\n        prefix: !1\n      }).processSync(\n        this.text.replace(/</gmi, \"&lt;\").replace(/&gt;/gmi, \">\")\n      ).result;\n      return e(\"div\", { class: \"rich-text--wrapper rich-text--wrapper-markdown\" }, [\n        s,\n        this.referenceLimit > 0 ? e(\"div\", { class: \"rich-text--reference-widget\" }, [\n          e(f, { props: { text: this.text, referenceData: this.references } })\n        ]) : null\n      ]);\n    }\n  },\n  render(e) {\n    return this.useMarkdown ? this.renderMarkdown(e) : this.renderPlaintext(e);\n  }\n}, U = null, Z = null;\nvar z = /* @__PURE__ */ g(\n  P,\n  U,\n  Z,\n  !1,\n  null,\n  \"5f33f45b\",\n  null,\n  null\n);\nconst X = z.exports;\nexport {\n  X as N,\n  f as a\n};\n","import \"../assets/referencePickerModal-3a127978.css\";\nimport { n as c } from \"./_plugin-vue2_normalizer-71e2aa87.mjs\";\nimport { t as n } from \"./l10n-f692947e.mjs\";\nimport p from \"@nextcloud/axios\";\nimport { loadState as C } from \"@nextcloud/initial-state\";\nimport { imagePath as L, generateOcsUrl as _ } from \"@nextcloud/router\";\nimport m from \"../Components/NcEmptyContent.mjs\";\nimport { N as P } from \"./index-20a9ace9.mjs\";\nimport w from \"../Components/NcSelect.mjs\";\nimport N from \"../Components/NcLoadingIcon.mjs\";\nimport E from \"../Components/NcTextField.mjs\";\nimport { D as I } from \"./DotsHorizontal-0ee7d901.mjs\";\nimport O from \"../Components/NcButton.mjs\";\nimport B from \"../Components/NcModal.mjs\";\nimport { emit as M } from \"@nextcloud/event-bus\";\nimport { A as V } from \"./ArrowLeft-3779ba88.mjs\";\nimport { C as W } from \"./Close-271f72e2.mjs\";\nimport q from \"vue\";\nwindow._vue_richtext_widgets || (window._vue_richtext_widgets = {});\nconst T = (t) => !!window._vue_richtext_widgets[t], j = (t, e, r = (s) => {\n}) => {\n  if (window._vue_richtext_widgets[t]) {\n    console.error(\"Widget for id \" + t + \" already registered\");\n    return;\n  }\n  window._vue_richtext_widgets[t] = {\n    id: t,\n    callback: e,\n    onDestroy: r\n  };\n}, z = (t, { richObjectType: e, richObject: r, accessible: s }) => {\n  if (e !== \"open-graph\") {\n    if (!window._vue_richtext_widgets[e]) {\n      console.error(\"Widget for rich object type \" + e + \" not registered\");\n      return;\n    }\n    window._vue_richtext_widgets[e].callback(t, { richObjectType: e, richObject: r, accessible: s });\n  }\n}, D = (t, e) => {\n  t !== \"open-graph\" && window._vue_richtext_widgets[t] && window._vue_richtext_widgets[t].onDestroy(e);\n};\nwindow._registerWidget = j;\nconst A = {\n  name: \"NcReferenceWidget\",\n  props: {\n    reference: {\n      type: Object,\n      required: !0\n    }\n  },\n  data() {\n    return {\n      compact: 3\n    };\n  },\n  computed: {\n    hasCustomWidget() {\n      return T(this.reference.richObjectType);\n    },\n    noAccess() {\n      return this.reference && !this.reference.accessible;\n    },\n    descriptionStyle() {\n      if (this.compact === 0)\n        return {\n          display: \"none\"\n        };\n      const t = this.compact < 4 ? this.compact : 3;\n      return {\n        lineClamp: t,\n        webkitLineClamp: t\n      };\n    },\n    compactLink() {\n      const t = this.reference.openGraphObject.link;\n      return t ? t.startsWith(\"https://\") ? t.substring(8) : t.startsWith(\"http://\") ? t.substring(7) : t : \"\";\n    }\n  },\n  mounted() {\n    this.renderWidget(), this.observer = new ResizeObserver((t) => {\n      t[0].contentRect.width < 450 ? this.compact = 0 : t[0].contentRect.width < 550 ? this.compact = 1 : t[0].contentRect.width < 650 ? this.compact = 2 : this.compact = 3;\n    }), this.observer.observe(this.$el);\n  },\n  beforeDestroy() {\n    this.observer.disconnect(), D(this.reference.richObjectType, this.$el);\n  },\n  methods: {\n    renderWidget() {\n      var t;\n      this.$refs.customWidget && (this.$refs.customWidget.innerHTML = \"\"), ((t = this == null ? void 0 : this.reference) == null ? void 0 : t.richObjectType) !== \"open-graph\" && this.$nextTick(() => {\n        z(this.$refs.customWidget, this.reference);\n      });\n    }\n  }\n};\nvar F = function() {\n  var e = this, r = e._self._c;\n  return r(\"div\", [e.reference && e.hasCustomWidget ? r(\"div\", { staticClass: \"widget-custom\" }, [r(\"div\", { ref: \"customWidget\" })]) : !e.noAccess && e.reference && e.reference.openGraphObject && !e.hasCustomWidget ? r(\"a\", { staticClass: \"widget-default\", attrs: { href: e.reference.openGraphObject.link, rel: \"noopener noreferrer\", target: \"_blank\" } }, [e.reference.openGraphObject.thumb ? r(\"img\", { staticClass: \"widget-default--image\", attrs: { src: e.reference.openGraphObject.thumb } }) : e._e(), r(\"div\", { staticClass: \"widget-default--details\" }, [r(\"p\", { staticClass: \"widget-default--name\" }, [e._v(e._s(e.reference.openGraphObject.name))]), r(\"p\", { staticClass: \"widget-default--description\", style: e.descriptionStyle }, [e._v(e._s(e.reference.openGraphObject.description))]), r(\"p\", { staticClass: \"widget-default--link\" }, [e._v(e._s(e.compactLink))])])]) : e._e()]);\n}, U = [], Q = /* @__PURE__ */ c(\n  A,\n  F,\n  U,\n  !1,\n  null,\n  \"b1c5a80f\",\n  null,\n  null\n);\nconst G = Q.exports;\nwindow._vue_richtext_custom_picker_elements || (window._vue_richtext_custom_picker_elements = {});\nclass nt {\n  /**\n   * @param {HTMLElement} element The HTML element\n   * @param {object} object The object\n   */\n  constructor(e, r) {\n    this.element = e, this.object = r;\n  }\n}\nconst h = (t) => !!window._vue_richtext_custom_picker_elements[t], H = (t) => {\n  var r;\n  const e = (r = window._vue_richtext_custom_picker_elements[t]) == null ? void 0 : r.size;\n  return [\"small\", \"normal\", \"large\", \"full\"].includes(e) ? e : null;\n}, Z = (t, e, r = (i) => {\n}, s = \"large\") => {\n  if (window._vue_richtext_custom_picker_elements[t]) {\n    console.error(\"Custom reference picker element for id \" + t + \" already registered\");\n    return;\n  }\n  window._vue_richtext_custom_picker_elements[t] = {\n    id: t,\n    callback: e,\n    onDestroy: r,\n    size: s\n  };\n}, J = (t, { providerId: e, accessible: r }) => {\n  if (!window._vue_richtext_custom_picker_elements[e]) {\n    console.error(\"Custom reference picker element for reference provider ID \" + e + \" not registered\");\n    return;\n  }\n  return window._vue_richtext_custom_picker_elements[e].callback(t, { providerId: e, accessible: r });\n}, K = (t, e, r) => {\n  window._vue_richtext_custom_picker_elements[t] && window._vue_richtext_custom_picker_elements[t].onDestroy(e, r);\n};\nwindow._registerCustomPickerElement = Z;\nconst X = {\n  name: \"NcCustomPickerElement\",\n  props: {\n    /**\n     * The reference provider\n     */\n    provider: {\n      type: Object,\n      required: !0\n    }\n  },\n  emits: [\n    \"cancel\",\n    \"submit\"\n  ],\n  data() {\n    return {\n      isRegistered: h(this.provider.id),\n      renderResult: null\n    };\n  },\n  mounted() {\n    this.isRegistered && this.renderElement();\n  },\n  beforeDestroy() {\n    this.isRegistered && K(this.provider.id, this.$el, this.renderResult);\n  },\n  methods: {\n    renderElement() {\n      this.$refs.domElement && (this.$refs.domElement.innerHTML = \"\");\n      const t = J(this.$refs.domElement, { providerId: this.provider.id, accessible: !1 });\n      Promise.resolve(t).then((e) => {\n        var r, s;\n        this.renderResult = e, (r = this.renderResult.object) != null && r._isVue && ((s = this.renderResult.object) != null && s.$on) && (this.renderResult.object.$on(\"submit\", this.onSubmit), this.renderResult.object.$on(\"cancel\", this.onCancel)), this.renderResult.element.addEventListener(\"submit\", (i) => {\n          this.onSubmit(i.detail);\n        }), this.renderResult.element.addEventListener(\"cancel\", this.onCancel);\n      });\n    },\n    onSubmit(t) {\n      this.$emit(\"submit\", t);\n    },\n    onCancel() {\n      this.$emit(\"cancel\");\n    }\n  }\n};\nvar Y = function() {\n  var e = this, r = e._self._c;\n  return r(\"div\", { ref: \"domElement\" });\n}, ee = [], te = /* @__PURE__ */ c(\n  X,\n  Y,\n  ee,\n  !1,\n  null,\n  \"cf695ff9\",\n  null,\n  null\n);\nconst re = te.exports, b = \"any-link\", S = {\n  id: b,\n  title: n(\"Any link\"),\n  icon_url: L(\"core\", \"filetypes/link.svg\")\n};\nwindow._vue_richtext_reference_providers || (window._vue_richtext_reference_providers = C(\"core\", \"reference-provider-list\", []));\nwindow._vue_richtext_reference_provider_timestamps || (window._vue_richtext_reference_provider_timestamps = C(\"core\", \"reference-provider-timestamps\", {}));\nfunction se(t) {\n  return t === b ? S : R().find((e) => e.id === t);\n}\nfunction R() {\n  return window._vue_richtext_reference_providers.filter((t) => {\n    const e = !!t.search_providers_ids && t.search_providers_ids.length > 0 || h(t.id);\n    return e || console.debug(\"[smart picker]\", t.id, \"reference provider is discoverable but does not have any related search provider or custom picker component registered\"), e;\n  });\n}\nfunction ie(t) {\n  const e = window._vue_richtext_reference_provider_timestamps;\n  return t.sort((r, s) => r.order === s.order ? 0 : r.order > s.order ? 1 : -1).sort((r, s) => {\n    const i = e[r.id], o = e[s.id];\n    return i === o ? 0 : o === void 0 ? -1 : i === void 0 ? 1 : i > o ? -1 : 1;\n  });\n}\nfunction ne(t, e = null) {\n  const r = R(), s = t.replace(/[/\\-\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\"), i = new RegExp(s, \"i\"), l = ie(r).filter((a) => a.title.match(i)), u = e ? l.slice(0, e) : l;\n  return (t === \"\" || u.length === 0) && u.push(S), u;\n}\nfunction oe(t) {\n  const e = Math.floor(Date.now() / 1e3), r = {\n    timestamp: e\n  }, s = _(\"references/provider/{providerId}\", { providerId: t });\n  p.put(s, r).then((i) => {\n    window._vue_richtext_reference_provider_timestamps[t] = e;\n  });\n}\nlet y = 0;\nfunction x(t, e) {\n  return function() {\n    const r = this, s = arguments;\n    clearTimeout(y), y = setTimeout(function() {\n      t.apply(r, s);\n    }, e || 0);\n  };\n}\nfunction f(t) {\n  try {\n    return !!new URL(t);\n  } catch {\n    return !1;\n  }\n}\nconst ce = {\n  name: \"LinkVariantIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar le = function() {\n  var e = this, r = e._self._c;\n  return r(\"span\", e._b({ staticClass: \"material-design-icon link-variant-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(s) {\n    return e.$emit(\"click\", s);\n  } } }, \"span\", e.$attrs, !1), [r(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [r(\"path\", { attrs: { d: \"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\" } }, [e.title ? r(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, ae = [], ue = /* @__PURE__ */ c(\n  ce,\n  le,\n  ae,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst v = ue.exports;\nconst de = {\n  name: \"NcProviderList\",\n  components: {\n    NcSelect: w,\n    NcHighlight: P,\n    NcEmptyContent: m,\n    LinkVariantIcon: v\n  },\n  emits: [\n    \"select-provider\",\n    \"submit\"\n  ],\n  data() {\n    return {\n      selectedProvider: null,\n      query: \"\",\n      multiselectPlaceholder: n(\"Select provider\"),\n      providerIconAlt: n(\"Provider icon\")\n    };\n  },\n  computed: {\n    options() {\n      const t = [];\n      return this.query !== \"\" && f(this.query) && t.push({\n        id: this.query,\n        title: this.query,\n        isLink: !0\n      }), t.push(...ne(this.query)), t;\n    }\n  },\n  methods: {\n    focus() {\n      setTimeout(() => {\n        var t, e, r;\n        (r = (e = (t = this.$refs[\"provider-select\"]) == null ? void 0 : t.$el) == null ? void 0 : e.querySelector(\"#provider-select-input\")) == null || r.focus();\n      }, 300);\n    },\n    onProviderSelected(t) {\n      t !== null && (t.isLink ? this.$emit(\"submit\", t.title) : this.$emit(\"select-provider\", t), this.selectedProvider = null);\n    },\n    onSearch(t, e) {\n      this.query = t;\n    }\n  }\n};\nvar he = function() {\n  var e = this, r = e._self._c;\n  return r(\"div\", { staticClass: \"provider-list\" }, [r(\"NcSelect\", { ref: \"provider-select\", staticClass: \"provider-list--select\", attrs: { \"input-id\": \"provider-select-input\", label: \"title\", placeholder: e.multiselectPlaceholder, options: e.options, \"append-to-body\": !1, \"clear-search-on-select\": !0, \"clear-search-on-blur\": () => !1, filterable: !1 }, on: { search: e.onSearch, input: e.onProviderSelected }, scopedSlots: e._u([{ key: \"option\", fn: function(s) {\n    return [s.isLink ? r(\"div\", { staticClass: \"provider\" }, [r(\"LinkVariantIcon\", { staticClass: \"link-icon\", attrs: { size: 20 } }), r(\"span\", [e._v(e._s(s.title))])], 1) : r(\"div\", { staticClass: \"provider\" }, [r(\"img\", { staticClass: \"provider-icon\", attrs: { src: s.icon_url, alt: e.providerIconAlt } }), r(\"NcHighlight\", { staticClass: \"option-text\", attrs: { search: e.query, text: s.title } })], 1)];\n  } }]), model: { value: e.selectedProvider, callback: function(s) {\n    e.selectedProvider = s;\n  }, expression: \"selectedProvider\" } }), r(\"NcEmptyContent\", { staticClass: \"provider-list--empty-content\", scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [r(\"LinkVariantIcon\")];\n  }, proxy: !0 }]) })], 1);\n}, _e = [], pe = /* @__PURE__ */ c(\n  de,\n  he,\n  _e,\n  !1,\n  null,\n  \"9d850ea5\",\n  null,\n  null\n);\nconst me = pe.exports;\nconst fe = {\n  name: \"NcRawLinkInput\",\n  components: {\n    LinkVariantIcon: v,\n    NcEmptyContent: m,\n    NcLoadingIcon: N,\n    NcReferenceWidget: G,\n    NcTextField: E\n  },\n  props: {\n    /**\n     * The reference provider\n     */\n    provider: {\n      type: Object,\n      required: !0\n    }\n  },\n  emits: [\n    \"submit\"\n  ],\n  data() {\n    return {\n      inputValue: \"\",\n      loading: !1,\n      reference: null,\n      abortController: null,\n      inputPlaceholder: n(\"Enter link\")\n    };\n  },\n  computed: {\n    isLinkValid() {\n      return f(this.inputValue);\n    }\n  },\n  methods: {\n    focus() {\n      var t;\n      (t = this.$refs[\"url-input\"].$el.getElementsByTagName(\"input\")[0]) == null || t.focus();\n    },\n    onSubmit(t) {\n      const e = t.target.value;\n      this.isLinkValid && this.$emit(\"submit\", e);\n    },\n    onClear() {\n      this.inputValue = \"\", this.reference = null;\n    },\n    onInput() {\n      this.reference = null, this.abortController && this.abortController.abort(), this.isLinkValid && x(() => {\n        this.updateReference();\n      }, 500)();\n    },\n    updateReference() {\n      this.loading = !0, this.abortController = new AbortController(), p.get(_(\"references/resolve\", 2) + \"?reference=\" + encodeURIComponent(this.inputValue), {\n        signal: this.abortController.signal\n      }).then((t) => {\n        this.reference = t.data.ocs.data.references[this.inputValue];\n      }).catch((t) => {\n        console.error(t);\n      }).then(() => {\n        this.loading = !1;\n      });\n    }\n  }\n};\nvar ve = function() {\n  var e = this, r = e._self._c;\n  return r(\"div\", { staticClass: \"raw-link\" }, [r(\"div\", { staticClass: \"input-wrapper\" }, [r(\"NcTextField\", { ref: \"url-input\", attrs: { value: e.inputValue, \"show-trailing-button\": e.inputValue !== \"\", label: e.inputPlaceholder }, on: { \"update:value\": [function(s) {\n    e.inputValue = s;\n  }, e.onInput], \"trailing-button-click\": e.onClear }, nativeOn: { keyup: function(s) {\n    return !s.type.indexOf(\"key\") && e._k(s.keyCode, \"enter\", 13, s.key, \"Enter\") ? null : e.onSubmit.apply(null, arguments);\n  } } }, [e.loading ? r(\"NcLoadingIcon\", { attrs: { size: 16 } }) : r(\"LinkVariantIcon\", { attrs: { size: 16 } })], 1)], 1), e.reference !== null ? r(\"NcReferenceWidget\", { staticClass: \"reference-widget\", attrs: { reference: e.reference } }) : r(\"NcEmptyContent\", { staticClass: \"raw-link--empty-content\", scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [e.provider.icon_url ? r(\"img\", { staticClass: \"provider-icon\", attrs: { src: e.provider.icon_url } }) : r(\"LinkVariantIcon\")];\n  }, proxy: !0 }]) })], 1);\n}, ge = [], ye = /* @__PURE__ */ c(\n  fe,\n  ve,\n  ge,\n  !1,\n  null,\n  \"d0ba247a\",\n  null,\n  null\n);\nconst ke = ye.exports;\nconst Ce = {\n  name: \"NcSearchResult\",\n  components: {\n    NcHighlight: P\n  },\n  props: {\n    /**\n     * Unified search result entry\n     */\n    entry: {\n      type: Object,\n      required: !0\n    },\n    /**\n     * The query that led to getting this result\n     * Used to highlight the entry text\n     */\n    query: {\n      type: String,\n      required: !0\n    }\n  }\n};\nvar Pe = function() {\n  var e = this, r = e._self._c;\n  return r(\"div\", { staticClass: \"result\" }, [e.entry.icon ? r(\"div\", { staticClass: \"result--icon-class\", class: { [e.entry.icon]: !0, rounded: e.entry.rounded } }) : r(\"img\", { staticClass: \"result--image\", class: { rounded: e.entry.rounded }, attrs: { src: e.entry.thumbnailUrl } }), r(\"div\", { staticClass: \"result--content\" }, [r(\"span\", { staticClass: \"result--content--name\" }, [r(\"NcHighlight\", { attrs: { search: e.query, text: e.entry.title } })], 1), r(\"span\", { staticClass: \"result--content--subline\" }, [r(\"NcHighlight\", { attrs: { search: e.query, text: e.entry.subline } })], 1)])]);\n}, we = [], be = /* @__PURE__ */ c(\n  Ce,\n  Pe,\n  we,\n  !1,\n  null,\n  \"7a394a58\",\n  null,\n  null\n);\nconst Se = be.exports;\nconst k = 5, Re = {\n  name: \"NcSearch\",\n  components: {\n    LinkVariantIcon: v,\n    DotsHorizontalIcon: I,\n    NcEmptyContent: m,\n    NcSelect: w,\n    NcSearchResult: Se\n  },\n  props: {\n    /**\n     * The selected reference provider\n     */\n    provider: {\n      type: Object,\n      required: !0\n    },\n    showEmptyContent: {\n      type: Boolean,\n      default: !0\n    },\n    searchPlaceholder: {\n      type: String,\n      default: null\n    }\n  },\n  emits: [\n    \"submit\"\n  ],\n  data() {\n    return {\n      searchQuery: \"\",\n      selectedResult: null,\n      resultsBySearchProvider: {},\n      searching: !1,\n      searchingMoreOf: null,\n      abortController: null,\n      noOptionsText: n(\"Start typing to search\"),\n      providerIconAlt: n(\"Provider icon\")\n    };\n  },\n  computed: {\n    mySearchPlaceholder() {\n      return this.searchPlaceholder || n(\"Search\");\n    },\n    searchProviderIds() {\n      return this.provider.search_providers_ids;\n    },\n    options() {\n      if (this.searchQuery === \"\")\n        return [];\n      const t = [];\n      return f(this.searchQuery) && t.push(this.rawLinkEntry), t.push(...this.formattedSearchResults), t;\n    },\n    rawLinkEntry() {\n      return {\n        id: \"rawLinkEntry\",\n        resourceUrl: this.searchQuery,\n        isRawLink: !0\n      };\n    },\n    formattedSearchResults() {\n      const t = [];\n      return this.searchProviderIds.forEach((e) => {\n        if (this.resultsBySearchProvider[e].entries.length > 0) {\n          (this.searchProviderIds.length > 1 || this.resultsBySearchProvider[e].entries.length > 1) && t.push({\n            id: \"groupTitle-\" + e,\n            name: this.resultsBySearchProvider[e].name,\n            isCustomGroupTitle: !0,\n            providerId: e\n          });\n          const r = this.resultsBySearchProvider[e].entries.map((s, i) => ({\n            id: \"provider-\" + e + \"-entry-\" + i,\n            ...s\n          }));\n          t.push(...r), this.resultsBySearchProvider[e].isPaginated && t.push({\n            id: \"moreOf-\" + e,\n            name: this.resultsBySearchProvider[e].name,\n            isMore: !0,\n            providerId: e,\n            isLoading: this.searchingMoreOf === e\n          });\n        }\n      }), t;\n    }\n  },\n  mounted() {\n    this.resetResults();\n  },\n  beforeDestroy() {\n    this.cancelSearchRequests();\n  },\n  methods: {\n    t: n,\n    resetResults() {\n      const t = {};\n      this.searchProviderIds.forEach((e) => {\n        t[e] = {\n          entries: []\n        };\n      }), this.resultsBySearchProvider = t;\n    },\n    focus() {\n      setTimeout(() => {\n        var t, e, r;\n        (r = (e = (t = this.$refs[\"search-select\"]) == null ? void 0 : t.$el) == null ? void 0 : e.querySelector(\"#search-select-input\")) == null || r.focus();\n      }, 300);\n    },\n    cancelSearchRequests() {\n      this.abortController && this.abortController.abort();\n    },\n    onSearchInput(t, e) {\n      this.searchQuery = t, x(() => {\n        this.updateSearch();\n      }, 500)();\n    },\n    onSelectResultSelected(t) {\n      t !== null && (t.resourceUrl ? (this.cancelSearchRequests(), this.$emit(\"submit\", t.resourceUrl)) : t.isMore && this.searchMoreOf(t.providerId).then(() => {\n        this.selectedResult = null;\n      }));\n    },\n    searchMoreOf(t) {\n      return this.searchingMoreOf = t, this.cancelSearchRequests(), this.searchProviders(t);\n    },\n    updateSearch() {\n      if (this.cancelSearchRequests(), this.resetResults(), this.searchQuery === \"\") {\n        this.searching = !1;\n        return;\n      }\n      return this.searchProviders();\n    },\n    searchProviders(t = null) {\n      var r, s;\n      this.abortController = new AbortController(), this.searching = !0;\n      const e = t === null ? [...this.searchProviderIds].map((i) => this.searchOneProvider(i)) : [this.searchOneProvider(t, (s = (r = this.resultsBySearchProvider[t]) == null ? void 0 : r.cursor) != null ? s : null)];\n      return Promise.allSettled(e).then((i) => {\n        !!i.find((l) => l.status === \"rejected\" && (l.reason.name === \"CanceledError\" || l.reason.code === \"ERR_CANCELED\")) || (this.searching = !1, this.searchingMoreOf = null);\n      });\n    },\n    searchOneProvider(t, e = null) {\n      const r = e === null ? _(\"search/providers/{providerId}/search?term={term}&limit={limit}\", { providerId: t, term: this.searchQuery, limit: k }) : _(\"search/providers/{providerId}/search?term={term}&limit={limit}&cursor={cursor}\", { providerId: t, term: this.searchQuery, limit: k, cursor: e });\n      return p.get(r, {\n        signal: this.abortController.signal\n      }).then((s) => {\n        const i = s.data.ocs.data;\n        this.resultsBySearchProvider[t].name = i.name, this.resultsBySearchProvider[t].cursor = i.cursor, this.resultsBySearchProvider[t].isPaginated = i.isPaginated, this.resultsBySearchProvider[t].entries.push(...i.entries);\n      });\n    }\n  }\n};\nvar xe = function() {\n  var e = this, r = e._self._c;\n  return r(\"div\", { staticClass: \"smart-picker-search\", class: { \"with-empty-content\": e.showEmptyContent } }, [r(\"NcSelect\", { ref: \"search-select\", staticClass: \"smart-picker-search--select\", attrs: { \"input-id\": \"search-select-input\", label: \"name\", placeholder: e.mySearchPlaceholder, options: e.options, \"append-to-body\": !1, \"close-on-select\": !1, \"clear-search-on-select\": !1, \"clear-search-on-blur\": () => !1, \"reset-focus-on-options-change\": !1, filterable: !1, autoscroll: !0, \"reset-on-options-change\": !1, loading: e.searching }, on: { search: e.onSearchInput, input: e.onSelectResultSelected }, scopedSlots: e._u([{ key: \"option\", fn: function(s) {\n    return [s.isRawLink ? r(\"div\", { staticClass: \"custom-option\" }, [r(\"LinkVariantIcon\", { staticClass: \"option-simple-icon\", attrs: { size: 20 } }), r(\"span\", { staticClass: \"option-text\" }, [e._v(\" \" + e._s(e.t(\"Raw link {options}\", { options: s.resourceUrl })) + \" \")])], 1) : s.resourceUrl ? r(\"NcSearchResult\", { staticClass: \"search-result\", attrs: { entry: s, query: e.searchQuery } }) : s.isCustomGroupTitle ? r(\"span\", { staticClass: \"custom-option group-name\" }, [e.provider.icon_url ? r(\"img\", { staticClass: \"provider-icon group-name-icon\", attrs: { src: e.provider.icon_url } }) : e._e(), r(\"span\", { staticClass: \"option-text\" }, [r(\"strong\", [e._v(e._s(s.name))])])]) : s.isMore ? r(\"span\", { class: { \"custom-option\": !0 } }, [s.isLoading ? r(\"span\", { staticClass: \"option-simple-icon icon-loading-small\" }) : r(\"DotsHorizontalIcon\", { staticClass: \"option-simple-icon\", attrs: { size: 20 } }), r(\"span\", { staticClass: \"option-text\" }, [e._v(\" \" + e._s(e.t('Load more \"{options}\"', { options: s.name })) + \" \")])], 1) : e._e()];\n  } }, { key: \"no-options\", fn: function() {\n    return [e._v(\" \" + e._s(e.noOptionsText) + \" \")];\n  }, proxy: !0 }]), model: { value: e.selectedResult, callback: function(s) {\n    e.selectedResult = s;\n  }, expression: \"selectedResult\" } }), e.showEmptyContent ? r(\"NcEmptyContent\", { staticClass: \"smart-picker-search--empty-content\", scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [e.provider.icon_url ? r(\"img\", { staticClass: \"provider-icon\", attrs: { alt: e.providerIconAlt, src: e.provider.icon_url } }) : r(\"LinkVariantIcon\")];\n  }, proxy: !0 }], null, !1, 2922132592) }) : e._e()], 1);\n}, $e = [], Le = /* @__PURE__ */ c(\n  Re,\n  xe,\n  $e,\n  !1,\n  null,\n  \"97d196f0\",\n  null,\n  null\n);\nconst Ne = Le.exports;\nconst d = {\n  providerList: 1,\n  standardLinkInput: 2,\n  searchInput: 3,\n  customElement: 4\n}, Ee = {\n  name: \"NcReferencePicker\",\n  components: {\n    NcCustomPickerElement: re,\n    NcProviderList: me,\n    NcRawLinkInput: ke,\n    NcSearch: Ne\n  },\n  props: {\n    /**\n     * Provider to select on creation\n     * Default: null. Show the provider list\n     */\n    initialProvider: {\n      type: Object,\n      default: () => null\n    },\n    /**\n     * Optional width in pixels\n     * Default: 100%\n     */\n    width: {\n      type: Number,\n      default: null\n    },\n    /**\n     * Focus on the provider list select input on creation\n     * Default: true\n     */\n    focusOnCreate: {\n      type: Boolean,\n      default: !0\n    }\n  },\n  emits: [\n    \"cancel\",\n    \"cancel-raw-link\",\n    \"cancel-search\",\n    \"provider-selected\",\n    \"submit\"\n  ],\n  data() {\n    return {\n      MODES: d,\n      selectedProvider: this.initialProvider\n    };\n  },\n  computed: {\n    mode() {\n      return this.selectedProvider === null ? d.providerList : h(this.selectedProvider.id) ? d.customElement : this.selectedProvider.search_providers_ids ? d.searchInput : d.standardLinkInput;\n    },\n    pickerWrapperStyle() {\n      return {\n        width: this.width ? this.width + \"px\" : void 0\n      };\n    }\n  },\n  mounted() {\n    this.focusOnCreate && (this.initialProvider ? setTimeout(() => {\n      var t;\n      (t = this.$refs[\"url-input\"]) == null || t.focus();\n    }, 300) : this.$nextTick(() => {\n      var t;\n      (t = this.$refs[\"provider-list\"]) == null || t.focus();\n    }));\n  },\n  methods: {\n    onEscapePressed() {\n      this.selectedProvider !== null ? this.deselectProvider() : this.cancelProviderSelection();\n    },\n    onProviderSelected(t) {\n      this.selectedProvider = t, this.$emit(\"provider-selected\", t), this.$nextTick(() => {\n        var e;\n        (e = this.$refs[\"url-input\"]) == null || e.focus();\n      });\n    },\n    cancelCustomElement() {\n      this.deselectProvider();\n    },\n    cancelSearch() {\n      var t;\n      this.$emit(\"cancel-search\", (t = this.selectedProvider) == null ? void 0 : t.title), this.deselectProvider();\n    },\n    cancelRawLinkInput() {\n      var t;\n      this.$emit(\"cancel-raw-link\", (t = this.selectedProvider) == null ? void 0 : t.title), this.deselectProvider();\n    },\n    cancelProviderSelection() {\n      this.$emit(\"cancel\");\n    },\n    submitLink(t) {\n      this.selectedProvider !== null && oe(this.selectedProvider.id), this.$emit(\"submit\", t), this.deselectProvider();\n    },\n    deselectProvider() {\n      this.selectedProvider = null, this.$emit(\"provider-selected\", null), setTimeout(() => {\n        var t;\n        (t = this.$refs[\"provider-list\"]) == null || t.focus();\n      }, 300);\n    }\n  }\n};\nvar Ie = function() {\n  var e = this, r = e._self._c;\n  return r(\"div\", { staticClass: \"reference-picker\", style: e.pickerWrapperStyle, attrs: { tabindex: \"-1\" }, on: { keydown: function(s) {\n    return !s.type.indexOf(\"key\") && e._k(s.keyCode, \"esc\", 27, s.key, [\"Esc\", \"Escape\"]) ? null : (s.stopPropagation(), s.preventDefault(), e.onEscapePressed.apply(null, arguments));\n  } } }, [e.mode === e.MODES.providerList ? r(\"NcProviderList\", { ref: \"provider-list\", on: { \"select-provider\": e.onProviderSelected, submit: e.submitLink, cancel: e.cancelProviderSelection } }) : e.mode === e.MODES.standardLinkInput ? r(\"NcRawLinkInput\", { ref: \"url-input\", attrs: { provider: e.selectedProvider }, on: { submit: e.submitLink, cancel: e.cancelRawLinkInput } }) : e.mode === e.MODES.searchInput ? r(\"NcSearch\", { ref: \"url-input\", attrs: { provider: e.selectedProvider }, on: { cancel: e.cancelSearch, submit: e.submitLink } }) : e.mode === e.MODES.customElement ? r(\"div\", { staticClass: \"custom-element-wrapper\" }, [r(\"NcCustomPickerElement\", { attrs: { provider: e.selectedProvider }, on: { submit: e.submitLink, cancel: e.cancelCustomElement } })], 1) : e._e()], 1);\n}, Oe = [], Be = /* @__PURE__ */ c(\n  Ee,\n  Ie,\n  Oe,\n  !1,\n  null,\n  \"aa77d0d3\",\n  null,\n  null\n);\nconst Me = Be.exports;\nconst Ve = {\n  name: \"NcReferencePickerModal\",\n  components: {\n    NcReferencePicker: Me,\n    NcModal: B,\n    NcButton: O,\n    ArrowLeftIcon: V,\n    CloseIcon: W\n  },\n  props: {\n    /**\n     * Provider to select on creation\n     * Show the provider list if no initial one is provided\n     */\n    initialProvider: {\n      type: Object,\n      default: () => null\n    },\n    /**\n     * Focus on the input item on create\n     */\n    focusOnCreate: {\n      type: Boolean,\n      default: !0\n    },\n    /**\n     * If true, add the modal content to the Viewer trap elements via the event-bus\n     */\n    isInsideViewer: {\n      type: Boolean,\n      default: !1\n    }\n  },\n  emits: [\n    \"cancel\",\n    \"submit\"\n  ],\n  data() {\n    return {\n      show: !0,\n      selectedProvider: this.initialProvider,\n      backButtonTitle: n(\"Back to provider selection\"),\n      closeButtonTitle: n(\"Close\"),\n      closeButtonLabel: n(\"Close Smart Picker\")\n    };\n  },\n  computed: {\n    isProviderSelected() {\n      return this.selectedProvider !== null;\n    },\n    showBackButton() {\n      return this.initialProvider === null && this.isProviderSelected;\n    },\n    modalSize() {\n      var t;\n      return this.isProviderSelected && h(this.selectedProvider.id) ? (t = H(this.selectedProvider.id)) != null ? t : \"large\" : \"normal\";\n    },\n    showModalName() {\n      return !this.isProviderSelected || !h(this.selectedProvider.id);\n    },\n    modalName() {\n      return this.isProviderSelected ? this.selectedProvider.title : n(\"Smart Picker\");\n    }\n  },\n  mounted() {\n    if (this.isInsideViewer) {\n      const t = this.$refs.modal_content;\n      M(\"viewer:trapElements:changed\", t);\n    }\n  },\n  methods: {\n    onCancel() {\n      this.show = !1, this.$emit(\"cancel\");\n    },\n    onSubmit(t) {\n      this.show = !1, this.$emit(\"submit\", t);\n    },\n    onProviderSelect(t) {\n      this.selectedProvider = t, t === null && this.initialProvider !== null && this.onCancel();\n    },\n    onBackClicked() {\n      this.$refs.referencePicker.deselectProvider();\n    }\n  }\n};\nvar We = function() {\n  var e = this, r = e._self._c;\n  return e.show ? r(\"NcModal\", { staticClass: \"reference-picker-modal\", attrs: { size: e.modalSize, \"can-close\": !1 }, on: { close: e.onCancel } }, [r(\"div\", { ref: \"modal_content\", staticClass: \"reference-picker-modal--content\" }, [e.showBackButton ? r(\"NcButton\", { staticClass: \"back-button\", attrs: { \"aria-label\": e.backButtonTitle, title: e.backButtonTitle }, on: { click: e.onBackClicked }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [r(\"ArrowLeftIcon\")];\n  }, proxy: !0 }], null, !1, 3001860362) }) : e._e(), r(\"NcButton\", { staticClass: \"close-button\", attrs: { \"aria-label\": e.closeButtonLabel, title: e.closeButtonTitle, type: \"tertiary\" }, on: { click: e.onCancel }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [r(\"CloseIcon\")];\n  }, proxy: !0 }], null, !1, 2491825086) }), e.showModalName ? r(\"h2\", [e._v(\" \" + e._s(e.modalName) + \" \")]) : e._e(), r(\"NcReferencePicker\", { ref: \"referencePicker\", attrs: { \"initial-provider\": e.initialProvider, \"focus-on-create\": e.focusOnCreate }, on: { \"provider-selected\": e.onProviderSelect, submit: e.onSubmit, cancel: e.onCancel } })], 1)]) : e._e();\n}, qe = [], Te = /* @__PURE__ */ c(\n  Ve,\n  We,\n  qe,\n  !1,\n  null,\n  \"3f1a4ac7\",\n  null,\n  null\n);\nconst je = Te.exports;\nasync function ot(t = null, e = void 0) {\n  return await new Promise((r, s) => {\n    var g;\n    const i = \"referencePickerModal\", o = document.createElement(\"div\");\n    o.id = i, document.body.append(o);\n    const l = t === null ? null : (g = se(t)) != null ? g : null, u = q.extend(je), a = new u({\n      propsData: {\n        initialProvider: l,\n        isInsideViewer: e\n      }\n    }).$mount(o);\n    a.$on(\"cancel\", () => {\n      a.$destroy(), s(new Error(\"User cancellation\"));\n    }), a.$on(\"submit\", ($) => {\n      a.$destroy(), r($);\n    });\n  });\n}\nexport {\n  G as N,\n  Me as a,\n  je as b,\n  Ne as c,\n  z as d,\n  nt as e,\n  Z as f,\n  J as g,\n  h,\n  T as i,\n  ot as j,\n  b as k,\n  se as l,\n  R as m,\n  ne as n,\n  j as r,\n  ie as s\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"3240\":\"29c327d1e4e42959b82f\",\"3998\":\"a49373c9d79e30e60f7b\",\"9064\":\"f6243754beec9d78de45\"}[chunkId] + \"\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 9098;","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t9098: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7874], () => (__webpack_require__(67926)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","name","props","richObject","type","Object","required","accessible","Boolean","default","data","previewUrl","window","OC","MimeType","getIconUrl","mimetype","computed","fileSize","Util","humanFileSize","size","fileMtime","relativeModifiedDate","mtime","filePath","path","filePreview","backgroundImage","filePreviewClass","mounted","generateUrl","fileId","id","img","Image","onload","onerror","err","console","error","src","methods","navigate","OCA","Viewer","mimetypes","indexOf","open","location","link","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_vm","this","_c","_self","staticClass","attrs","on","$event","preventDefault","apply","arguments","class","style","_v","_s","t","components","providerId","String","openFilePicker","addEventListener","onWindowClick","beforeDestroy","removeEventListener","e","target","tagName","classList","contains","$emit","dialogs","filepicker","file","Files","getClient","getFileInfo","then","_status","fileInfo","submit","FilePickerType","Choose","$refs","picker","fileLink","protocol","host","ref","Vue","mixin","registerWidget","el","_ref","richObjectType","extend","FileWidget","propsData","$mount","registerCustomPickerElement","_ref2","vueElement","FileReferencePickerElement","NcCustomPickerRenderResult","$el","renderResult","object","$destroy","___CSS_LOADER_EXPORT___","push","module","m","x","$","NcReferenceWidget","text","referenceData","limit","Number","references","loading","isVisible","displayedReferences","values","firstReference","slice","watch","fetch","RegExp","exec","resolve","ocs","catch","trim","get","encodeURIComponent","post","j","s","_l","r","i","key","openGraphObject","reference","_e","T","f","exports","C","href","render","rel","M","autolink","useMarkdown","n","c","k","value","map","a","url","filter","children","splice","flat","length","substring","index","o","component","join","D","split","p","match","u","P","NcReferenceList","referenceLimit","markdownCssClasses","ol","ul","li","strong","em","h1","h2","h3","h4","h5","h6","hr","table","pre","code","blockquote","renderPlaintext","h","context","Array","isArray","E","renderMarkdown","use","handlers","createElement","replace","startsWith","prefix","processSync","result","X","_vue_richtext_widgets","callback","onDestroy","_registerWidget","A","compact","hasCustomWidget","noAccess","descriptionStyle","display","lineClamp","webkitLineClamp","compactLink","renderWidget","observer","ResizeObserver","contentRect","width","observe","disconnect","customWidget","innerHTML","$nextTick","z","F","thumb","description","U","G","_vue_richtext_custom_picker_elements","nt","constructor","element","Z","_registerCustomPickerElement","provider","emits","isRegistered","renderElement","K","domElement","J","Promise","_isVue","$on","onSubmit","onCancel","detail","Y","ee","re","b","S","title","icon_url","R","_vue_richtext_reference_providers","search_providers_ids","debug","ne","l","_vue_richtext_reference_provider_timestamps","sort","order","ie","y","clearTimeout","setTimeout","URL","ce","fillColor","le","_b","role","click","$attrs","fill","height","viewBox","d","ae","v","de","NcSelect","NcHighlight","NcEmptyContent","LinkVariantIcon","selectedProvider","query","multiselectPlaceholder","providerIconAlt","isLink","focus","querySelector","onProviderSelected","onSearch","he","label","placeholder","filterable","search","input","scopedSlots","_u","fn","alt","model","expression","proxy","me","fe","NcLoadingIcon","NcTextField","inputValue","abortController","inputPlaceholder","isLinkValid","getElementsByTagName","onClear","onInput","abort","updateReference","AbortController","signal","ve","nativeOn","keyup","_k","keyCode","ge","ke","Ce","entry","Pe","icon","rounded","thumbnailUrl","subline","we","Se","Re","DotsHorizontalIcon","NcSearchResult","showEmptyContent","searchPlaceholder","searchQuery","selectedResult","resultsBySearchProvider","searching","searchingMoreOf","noOptionsText","mySearchPlaceholder","searchProviderIds","rawLinkEntry","formattedSearchResults","resourceUrl","isRawLink","forEach","entries","isCustomGroupTitle","isPaginated","isMore","isLoading","resetResults","cancelSearchRequests","onSearchInput","updateSearch","onSelectResultSelected","searchMoreOf","searchProviders","searchOneProvider","cursor","allSettled","find","status","reason","term","xe","autoscroll","$e","Ne","providerList","standardLinkInput","searchInput","customElement","Ee","NcCustomPickerElement","NcProviderList","NcRawLinkInput","NcSearch","initialProvider","focusOnCreate","MODES","mode","pickerWrapperStyle","onEscapePressed","deselectProvider","cancelProviderSelection","cancelCustomElement","cancelSearch","cancelRawLinkInput","submitLink","Math","floor","Date","now","timestamp","put","oe","Ie","tabindex","keydown","stopPropagation","cancel","Oe","Ve","NcReferencePicker","NcModal","NcButton","ArrowLeftIcon","CloseIcon","isInsideViewer","show","backButtonTitle","closeButtonTitle","closeButtonLabel","isProviderSelected","showBackButton","modalSize","includes","H","showModalName","modalName","modal_content","onProviderSelect","onBackClicked","referencePicker","We","close","qe","je","async","ot","g","document","body","append","se","Error","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","call","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","keys","every","getter","__esModule","definition","defineProperty","enumerable","chunkId","all","reduce","promises","globalThis","Function","obj","prop","prototype","hasOwnProperty","done","script","needAttach","scripts","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","prev","event","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","nmd","paths","scriptUrl","importScripts","currentScript","baseURI","self","installedChunks","installedChunkData","promise","reject","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}