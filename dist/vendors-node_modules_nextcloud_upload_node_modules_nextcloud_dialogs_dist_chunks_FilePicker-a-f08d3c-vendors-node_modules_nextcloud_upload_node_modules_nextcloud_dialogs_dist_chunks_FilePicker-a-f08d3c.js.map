{"version":3,"file":"vendors-node_modules_nextcloud_upload_node_modules_nextcloud_dialogs_dist_chunks_FilePicker-a-f08d3c-vendors-node_modules_nextcloud_upload_node_modules_nextcloud_dialogs_dist_chunks_FilePicker-a-f08d3c.js?v=153a2ffb43815482eae8","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjBA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA","sources":["webpack:///nextcloud/node_modules/vue-material-design-icons/Clock.vue","webpack:///nextcloud/node_modules/vue-material-design-icons/Clock.vue?vue&type=script&lang=js&","webpack:///nextcloud/node_modules/vue-material-design-icons/Plus.vue","webpack:///nextcloud/node_modules/vue-material-design-icons/Plus.vue?vue&type=script&lang=js&","webpack://nextcloud/./node_modules/vue-material-design-icons/Clock.vue?a676","webpack://nextcloud/./node_modules/vue-material-design-icons/Plus.vue?b153","webpack://nextcloud/./node_modules/vue-material-design-icons/Clock.vue?72d4","webpack:///nextcloud/node_modules/vue-material-design-icons/Clock.vue?vue&type=template&id=21c97692&","webpack:///nextcloud/node_modules/vue-material-design-icons/Plus.vue?vue&type=template&id=18bbb6c6&","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-ad781544.mjs"],"sourcesContent":["import { render, staticRenderFns } from \"./Clock.vue?vue&type=template&id=21c97692&\"\nimport script from \"./Clock.vue?vue&type=script&lang=js&\"\nexport * from \"./Clock.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/louis/workspace/nextcloud/instances/server1/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('21c97692')) {\n      api.createRecord('21c97692', component.options)\n    } else {\n      api.reload('21c97692', component.options)\n    }\n    module.hot.accept(\"./Clock.vue?vue&type=template&id=21c97692&\", function () {\n      api.rerender('21c97692', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/vue-material-design-icons/Clock.vue\"\nexport default component.exports","\nexport default {\n  name: \"ClockIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./Plus.vue?vue&type=template&id=18bbb6c6&\"\nimport script from \"./Plus.vue?vue&type=script&lang=js&\"\nexport * from \"./Plus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/louis/workspace/nextcloud/instances/server1/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('18bbb6c6')) {\n      api.createRecord('18bbb6c6', component.options)\n    } else {\n      api.reload('18bbb6c6', component.options)\n    }\n    module.hot.accept(\"./Plus.vue?vue&type=template&id=18bbb6c6&\", function () {\n      api.rerender('18bbb6c6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/vue-material-design-icons/Plus.vue\"\nexport default component.exports","\nexport default {\n  name: \"PlusIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=script&lang=js&\"","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./Plus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./Plus.vue?vue&type=script&lang=js&\"","export * from \"-!../vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=template&id=21c97692&\"","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"span\",\n    _vm._b(\n      {\n        staticClass: \"material-design-icon clock-icon\",\n        attrs: {\n          \"aria-hidden\": !_vm.title,\n          \"aria-label\": _vm.title,\n          role: \"img\",\n        },\n        on: {\n          click: function ($event) {\n            return _vm.$emit(\"click\", $event)\n          },\n        },\n      },\n      \"span\",\n      _vm.$attrs,\n      false\n    ),\n    [\n      _c(\n        \"svg\",\n        {\n          staticClass: \"material-design-icon__svg\",\n          attrs: {\n            fill: _vm.fillColor,\n            width: _vm.size,\n            height: _vm.size,\n            viewBox: \"0 0 24 24\",\n          },\n        },\n        [\n          _c(\n            \"path\",\n            {\n              attrs: {\n                d: \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z\",\n              },\n            },\n            [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()]\n          ),\n        ]\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"span\",\n    _vm._b(\n      {\n        staticClass: \"material-design-icon plus-icon\",\n        attrs: {\n          \"aria-hidden\": !_vm.title,\n          \"aria-label\": _vm.title,\n          role: \"img\",\n        },\n        on: {\n          click: function ($event) {\n            return _vm.$emit(\"click\", $event)\n          },\n        },\n      },\n      \"span\",\n      _vm.$attrs,\n      false\n    ),\n    [\n      _c(\n        \"svg\",\n        {\n          staticClass: \"material-design-icon__svg\",\n          attrs: {\n            fill: _vm.fillColor,\n            width: _vm.size,\n            height: _vm.size,\n            viewBox: \"0 0 24 24\",\n          },\n        },\n        [\n          _c(\n            \"path\",\n            { attrs: { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } },\n            [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()]\n          ),\n        ]\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { defineComponent as b, computed as m, ref as y, watch as R, toRef as L, onMounted as A } from \"vue\";\nimport O from \"vue-material-design-icons/File.vue\";\nimport { n as F, D as E } from \"./DialogBase-6dda6320.mjs\";\nimport { getCanonicalLocale as P } from \"@nextcloud/l10n\";\nimport { NcCheckboxRadioSwitch as T, NcButton as z, NcActions as j, NcActionInput as H, NcBreadcrumbs as G, NcBreadcrumb as U, NcSelect as q, NcTextField as K, NcEmptyContent as $ } from \"@nextcloud/vue\";\nimport { join as M } from \"path\";\nimport { t as d } from \"./index-03982120.mjs\";\nimport W from \"vue-material-design-icons/MenuDown.vue\";\nimport J from \"vue-material-design-icons/MenuUp.vue\";\nimport { formatFileSize as Q, davGetClient as X, davRootPath as x, davResultToNode as C, davGetFavoritesReport as Y, davGetRecentSearch as Z, davGetDefaultPropfind as ee } from \"@nextcloud/files\";\nimport V from \"vue-material-design-icons/Folder.vue\";\nimport te from \"vue-material-design-icons/Home.vue\";\nimport ie from \"vue-material-design-icons/Plus.vue\";\nimport ne from \"vue-material-design-icons/Clock.vue\";\nimport ae from \"vue-material-design-icons/Close.vue\";\nimport oe from \"vue-material-design-icons/Magnify.vue\";\nimport le from \"vue-material-design-icons/Star.vue\";\nimport { Fragment as re } from \"vue-frag\";\nimport { i as se } from \"./toast-ea3453ef.mjs\";\nimport { generateRemoteUrl as ce } from \"@nextcloud/router\";\nconst de = {};\nvar ue = function() {\n  var i = this;\n  return i._self._c, i._m(0);\n}, me = [function() {\n  var i = this, t = i._self._c;\n  return t(\"tr\", { staticClass: \"file-picker__row loading-row\", attrs: { \"aria-hidden\": \"true\" } }, [t(\"td\", { staticClass: \"row-checkbox\" }, [t(\"span\")]), t(\"td\", { staticClass: \"row-name\" }, [t(\"span\")]), t(\"td\", { staticClass: \"row-size\" }, [t(\"span\")]), t(\"td\", { staticClass: \"row-modified\" }, [t(\"span\")])]);\n}], pe = F(de, ue, me, !1, null, \"fc67157c\", null, null);\nconst fe = pe.exports, ye = { long: d(\"a few seconds ago\"), short: d(\"seconds ago\"), narrow: d(\"sec. ago\") }, he = b({ name: \"NcDatetime\", props: { timestamp: { type: [Date, Number], required: !0 }, format: { type: Object, default: () => ({ timeStyle: \"medium\", dateStyle: \"short\" }) }, relativeTime: { type: [Boolean, String], default: \"long\", validator: (i) => i === !1 || [\"long\", \"short\", \"narrow\"].includes(i) }, ignoreSeconds: { type: Boolean, default: !1 } }, data() {\n  return { currentTime: Date.now(), intervalId: void 0 };\n}, computed: { dateObject() {\n  return new Date(this.timestamp);\n}, formattedTime() {\n  if (this.relativeTime !== !1) {\n    const i = new Intl.RelativeTimeFormat(P(), { numeric: \"auto\", style: this.relativeTime }), t = (this.dateObject.valueOf() - this.currentTime) / 1e3;\n    if (Math.abs(t) <= 90)\n      return this.ignoreSeconds ? ye[this.relativeTime] : i.format(Math.round(t), \"second\");\n    const e = t / 60;\n    if (Math.abs(e) <= 90)\n      return i.format(Math.round(e), \"minute\");\n    const n = e / 60;\n    if (Math.abs(n) <= 72)\n      return i.format(Math.round(n), \"hour\");\n    const o = n / 24;\n    if (Math.abs(o) <= 6)\n      return i.format(Math.round(o), \"day\");\n    const l = o / 7;\n    return Math.abs(l) <= 52 ? i.format(Math.round(l), \"week\") : i.format(Math.round(o / 365), \"year\");\n  }\n  return this.formattedFullTime;\n}, formattedFullTime() {\n  return new Intl.DateTimeFormat(P(), this.format).format(this.dateObject);\n} }, watch: { relativeTime(i) {\n  window.clearInterval(this.intervalId), this.intervalId = void 0, i && (this.intervalId = window.setInterval(this.setCurrentTime, 1e3));\n} }, mounted() {\n  this.relativeTime !== !1 && (this.intervalId = window.setInterval(this.setCurrentTime, 1e3));\n}, destroyed() {\n  window.clearInterval(this.intervalId);\n}, methods: { setCurrentTime() {\n  this.currentTime = Date.now();\n} } });\nvar ve = function() {\n  var i = this, t = i._self._c;\n  return i._self._setupProxy, t(\"span\", { staticClass: \"nc-datetime\", attrs: { \"data-timestamp\": i.timestamp, title: i.formattedFullTime } }, [i._v(i._s(i.formattedTime))]);\n}, ge = [], we = F(he, ve, ge, !1, null, null, null, null);\nconst _e = we.exports, ke = b({ __name: \"FileListRow\", props: { allowPickDirectory: { type: Boolean }, selected: { type: Boolean }, canPick: { type: Boolean }, node: null }, emits: [\"update:selected\", \"enter-directory\"], setup(i, { emit: t }) {\n  const e = i, n = m(() => {\n    var u;\n    return ((u = e.node.attributes) == null ? void 0 : u.displayName) || e.node.basename.slice(0, e.node.extension ? -e.node.extension.length : void 0);\n  }), o = m(() => e.node.extension), l = m(() => e.canPick && (e.allowPickDirectory || e.node.mime !== \"httpd/unix-directory\")), f = m(() => \"url(\".concat(window.OC.MimeType.getIconUrl(e.node.mime), \")\"));\n  function c() {\n    t(\"update:selected\", !e.selected);\n  }\n  function s() {\n    e.node.mime === \"httpd/unix-directory\" ? t(\"enter-directory\", e.node) : c();\n  }\n  function p(u) {\n    u.key === \"enter\" && s();\n  }\n  return { __sfc: !0, props: e, emit: t, displayName: n, fileExtension: o, isPickable: l, backgroundImage: f, toggleSelected: c, handleClick: s, handleKeyDown: p, formatFileSize: Q, NcCheckboxRadioSwitch: T, t: d, NcDatetime: _e };\n} });\nvar Fe = function() {\n  var i = this, t = i._self._c, e = i._self._setupProxy;\n  return t(\"tr\", { staticClass: \"file-picker__row\", attrs: { tabindex: \"0\" }, on: { \"key-down\": e.handleKeyDown } }, [t(\"td\", { staticClass: \"row-checkbox\" }, [t(e.NcCheckboxRadioSwitch, { attrs: { disabled: !e.isPickable, checked: i.selected, \"aria-label\": e.t(\"Select the row for {nodename}\", { nodename: e.displayName }) }, on: { \"update:checked\": e.toggleSelected } })], 1), t(\"td\", { staticClass: \"row-name\", on: { click: e.handleClick } }, [t(\"div\", { staticClass: \"file-picker__name-container\" }, [t(\"div\", { staticClass: \"file-picker__file-icon\", style: { backgroundImage: e.backgroundImage } }), t(\"div\", { staticClass: \"file-picker__file-name\", attrs: { title: e.displayName }, domProps: { textContent: i._s(e.displayName) } }), t(\"div\", { staticClass: \"file-picker__file-extension\", domProps: { textContent: i._s(e.fileExtension) } })])]), t(\"td\", { staticClass: \"row-size\" }, [i._v(\" \" + i._s(e.formatFileSize(i.node.size || 0)) + \" \")]), t(\"td\", { staticClass: \"row-modified\" }, [i.node.mtime ? t(e.NcDatetime, { attrs: { timestamp: i.node.mtime, \"ignore-seconds\": !0 } }) : t(\"span\", [i._v(i._s(e.t(\"Unset\")))])], 1)]);\n}, be = [], Se = F(ke, Fe, be, !1, null, \"5e91572e\", null, null);\nconst Ne = Se.exports, Ce = b({ __name: \"FileList\", props: { multiselect: { type: Boolean }, allowPickDirectory: { type: Boolean }, loading: { type: Boolean }, files: null, selectedFiles: null, path: null }, emits: [\"update:path\", \"update:selectedFiles\"], setup(i, { emit: t }) {\n  const e = i, n = y(void 0), o = y(void 0), l = y(void 0), f = { ascending: (a, r, v) => v(a, r), descending: (a, r, v) => v(r, a), none: (a, r, v) => 0 }, c = (a, r) => r.basename.localeCompare(a.basename, P()), s = (a, r) => (r.size || 0) - (a.size || 0), p = (a, r) => {\n    var v, D;\n    return (((v = a.mtime) == null ? void 0 : v.getTime()) || 0) - (((D = r.mtime) == null ? void 0 : D.getTime()) || 0);\n  }, u = (a) => {\n    a.value === \"ascending\" ? a.value = \"descending\" : a.value === \"descending\" ? a.value = void 0 : a.value = \"ascending\";\n  }, w = () => u(n), h = () => u(o), k = () => u(l), g = m(() => {\n    const a = e.files.sort((r, v) => f[n.value || \"none\"](r, v, c) || f[o.value || \"none\"](r, v, s) || f[l.value || \"none\"](r, v, p));\n    return console.warn(\"files sorted\"), a;\n  }), _ = m(() => e.files.filter((a) => e.allowPickDirectory || a.mime !== \"https/unix-directory\")), S = m(() => !e.loading && e.selectedFiles.length >= _.value.length);\n  function N() {\n    e.selectedFiles.length < _.value.length ? t(\"update:selectedFiles\", _.value) : t(\"update:selectedFiles\", []);\n  }\n  function B(a) {\n    e.selectedFiles.includes(a) ? t(\"update:selectedFiles\", e.selectedFiles.filter((r) => r.path !== a.path)) : t(\"update:selectedFiles\", [...e.selectedFiles, a]);\n  }\n  function I(a) {\n    t(\"update:path\", M(e.path, a.basename));\n  }\n  return { __sfc: !0, props: e, emit: t, sortByName: n, sortBySize: o, sortByModified: l, ordering: f, byName: c, bySize: s, byDate: p, toggleSorting: u, toggleSortByName: w, toggleSortBySize: h, toggleSortByModified: k, sortedFiles: g, selectableFiles: _, allSelected: S, onSelectAll: N, onNodeSelected: B, onChangeDirectory: I, NcButton: z, NcCheckboxRadioSwitch: T, t: d, IconSortAscending: W, IconSortDescending: J, LoadingTableRow: fe, FileListRow: Ne };\n} });\nvar xe = function() {\n  var i = this, t = i._self._c, e = i._self._setupProxy;\n  return t(\"div\", { staticClass: \"file-picker__files\" }, [t(\"table\", [t(\"thead\", [t(\"tr\", [t(\"th\", { staticClass: \"row-checkbox\" }, [t(\"span\", { staticClass: \"hidden-visually\" }, [i._v(\" \" + i._s(e.t(\"Select entry\")) + \" \")]), e.props.multiselect ? t(e.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": e.t(\"Select all entries\"), checked: e.allSelected }, on: { \"update:checked\": e.onSelectAll } }) : i._e()], 1), t(\"th\", { staticClass: \"row-name\", attrs: { \"aria-sort\": e.sortByName } }, [t(e.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: e.toggleSortByName }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n    return [e.sortByName === \"ascending\" ? t(e.IconSortAscending, { attrs: { size: 20 } }) : e.sortByName === \"descending\" ? t(e.IconSortDescending, { attrs: { size: 20 } }) : t(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [i._v(\" \" + i._s(e.t(\"Name\")) + \" \")])], 1), t(\"th\", { staticClass: \"row-size\", attrs: { \"aria-sort\": e.sortBySize } }, [t(e.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: e.toggleSortBySize }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n    return [e.sortBySize === \"ascending\" ? t(e.IconSortAscending, { attrs: { size: 20 } }) : e.sortBySize === \"descending\" ? t(e.IconSortDescending, { attrs: { size: 20 } }) : t(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [i._v(\" \" + i._s(e.t(\"Size\")) + \" \")])], 1), t(\"th\", { staticClass: \"row-modified\", attrs: { \"aria-sort\": e.sortByModified } }, [t(e.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: e.toggleSortByModified }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n    return [e.sortByModified === \"ascending\" ? t(e.IconSortAscending, { attrs: { size: 20 } }) : e.sortByModified === \"descending\" ? t(e.IconSortDescending, { attrs: { size: 20 } }) : t(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [i._v(\" \" + i._s(e.t(\"Modified\")) + \" \")])], 1)])]), t(\"tbody\", [i.loading ? i._l([1, 2, 3, 4], function(n) {\n    return t(e.LoadingTableRow, { key: n });\n  }) : i._l(e.sortedFiles, function(n) {\n    return t(e.FileListRow, { key: n.fileid || n.path, attrs: { \"allow-pick-directory\": i.allowPickDirectory, \"can-pick\": i.multiselect || i.selectedFiles.length === 0 || i.selectedFiles.includes(n), selected: i.selectedFiles.includes(n), node: n }, on: { \"update:selected\": function(o) {\n      return e.onNodeSelected(n);\n    }, \"enter-directory\": e.onChangeDirectory } });\n  })], 2)])]);\n}, Be = [], Ie = F(Ce, xe, Be, !1, null, \"063ffa4f\", null, null);\nconst Pe = Ie.exports, De = b({ __name: \"FilePickerBreadcrumbs\", props: { path: null, showMenu: { type: Boolean } }, emits: [\"update:path\", \"create-node\"], setup(i, { emit: t }) {\n  const e = i, n = y(\"\"), o = y();\n  function l() {\n    var s, p, u, w;\n    const h = n.value.trim(), k = (p = (s = o.value) == null ? void 0 : s.$el) == null ? void 0 : p.querySelector(\"input\");\n    let g = \"\";\n    return h.length === 0 ? g = d(\"File name cannot be empty.\") : h.includes(\"/\") ? g = d('\"/\" is not allowed inside a file name.') : [\"..\", \".\"].includes(h) ? g = d('\"{name}\" is an invalid file name.', { name: h }) : (u = window.OC.config) != null && u.blacklist_files_regex && h.match((w = window.OC.config) == null ? void 0 : w.blacklist_files_regex) && (g = d('\"{name}\" is not an allowed filetype', { name: h })), k && k.setCustomValidity(g), g === \"\";\n  }\n  const f = function() {\n    const s = n.value.trim();\n    l() && (t(\"create-node\", s), n.value = \"\");\n  }, c = m(() => e.path.split(\"/\").filter((s) => s !== \"\").map((s, p, u) => ({ name: s, path: \"/\" + u.slice(0, p + 1).join(\"/\") })));\n  return { __sfc: !0, props: e, emit: t, newNodeName: n, nameInput: o, validateInput: l, onSubmit: f, pathElements: c, IconFolder: V, IconHome: te, IconPlus: ie, NcActions: j, NcActionInput: H, NcBreadcrumbs: G, NcBreadcrumb: U, t: d };\n} });\nvar Te = function() {\n  var i = this, t = i._self._c, e = i._self._setupProxy;\n  return t(e.NcBreadcrumbs, { staticClass: \"file-picker__breadcrumbs\", scopedSlots: i._u([{ key: \"default\", fn: function() {\n    return [t(e.NcBreadcrumb, { attrs: { name: e.t(\"Home\"), title: e.t(\"Home\") }, on: { click: function(n) {\n      return e.emit(\"update:path\", \"/\");\n    } }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n      return [t(e.IconHome, { attrs: { size: 20 } })];\n    }, proxy: !0 }]) }), i._l(e.pathElements, function(n) {\n      return t(e.NcBreadcrumb, { key: n.path, attrs: { name: n.name, title: n.path }, on: { click: function(o) {\n        return e.emit(\"update:path\", n.path);\n      } } });\n    })];\n  }, proxy: !0 }, i.showMenu ? { key: \"actions\", fn: function() {\n    return [t(e.NcActions, { attrs: { \"aria-label\": e.t(\"Create directory\"), \"force-menu\": !0, \"force-title\": !0, \"menu-title\": e.t(\"New\"), type: \"secondary\" }, on: { close: function(n) {\n      e.newNodeName = \"\";\n    } }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n      return [t(e.IconPlus, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 2971667417) }, [t(e.NcActionInput, { ref: \"nameInput\", attrs: { value: e.newNodeName, label: e.t(\"New folder\"), placeholder: e.t(\"New folder name\") }, on: { \"update:value\": function(n) {\n      e.newNodeName = n;\n    }, submit: e.onSubmit, input: e.validateInput }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n      return [t(e.IconFolder, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 1614167509) })], 1)];\n  }, proxy: !0 } : null], null, !0) });\n}, ze = [], Me = F(De, Te, ze, !1, null, \"5782a1a4\", null, null);\nconst Ve = Me.exports, Re = b({ __name: \"FilePickerNavigation\", props: { currentView: null, filterString: null, isCollapsed: { type: Boolean } }, emits: [\"update:currentView\", \"update:filterString\"], setup(i, { emit: t }) {\n  const e = i, n = [{ id: \"files\", label: d(\"All files\"), icon: V }, { id: \"recent\", label: d(\"Recent\"), icon: ne }, { id: \"favorites\", label: d(\"Favorites\"), icon: le }], o = m(() => n.filter((l) => l.id === e.currentView)[0]);\n  return { __sfc: !0, allViews: n, props: e, emit: t, currentViewObject: o, updateFilterValue: (l) => t(\"update:filterString\", l), IconClose: ae, IconMagnify: oe, NcButton: z, NcSelect: q, NcTextField: K, t: d, Fragment: re };\n} });\nvar Le = function() {\n  var i = this, t = i._self._c, e = i._self._setupProxy;\n  return t(e.Fragment, [t(e.NcTextField, { staticClass: \"file-picker__filter-input\", attrs: { value: i.filterString, label: e.t(\"Filter file list\"), \"show-trailing-button\": !!i.filterString }, on: { \"update:value\": e.updateFilterValue, \"trailing-button-click\": function(n) {\n    return e.updateFilterValue(\"\");\n  } }, scopedSlots: i._u([{ key: \"trailing-button-icon\", fn: function() {\n    return [t(e.IconClose, { attrs: { size: 16 } })];\n  }, proxy: !0 }]) }, [t(e.IconMagnify, { attrs: { size: 16 } })], 1), i.isCollapsed ? t(e.NcSelect, { attrs: { \"aria-label\": e.t(\"Current view selector\"), clearable: !1, searchable: !1, options: e.allViews, value: e.currentViewObject }, on: { input: (n) => e.emit(\"update:currentView\", n.id) } }) : t(\"ul\", { staticClass: \"file-picker__side\", attrs: { role: \"tablist\", \"aria-label\": e.t(\"Filepicker sections\") } }, i._l(e.allViews, function(n) {\n    return t(\"li\", { key: n.id }, [t(e.NcButton, { attrs: { \"aria-selected\": i.currentView === n.id, type: i.currentView === n.id ? \"primary\" : \"tertiary\", wide: !0, role: \"tab\" }, on: { click: function(o) {\n      return i.$emit(\"update:currentView\", n.id);\n    } }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n      return [t(n.icon, { tag: \"component\", attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !0) }, [i._v(\" \" + i._s(n.label) + \" \")])], 1);\n  }), 0)], 1);\n}, Ae = [], Oe = F(Re, Le, Ae, !1, null, \"69c4f473\", null, null);\nconst Ee = Oe.exports, je = function(i, t) {\n  const e = X(ce(\"dav\")), n = y([]), o = y(!0);\n  async function l(c) {\n    const s = await e.stat(\"\".concat(x).concat(c), { details: !0 });\n    return C(s.data);\n  }\n  async function f() {\n    if (o.value = !0, i.value === \"favorites\")\n      n.value = await e.getDirectoryContents(\"\".concat(x).concat(t.value), { details: !0, data: Y(), headers: { method: \"REPORT\" }, includeSelf: !1 }).then((c) => c.data.map((s) => C(s)));\n    else if (i.value === \"recent\") {\n      const c = Math.round(Date.now() / 1e3) - 1209600, s = await e.getDirectoryContents(t.value, { details: !0, data: Z(c), headers: { method: \"SEARCH\", \"Content-Type\": \"application/xml; charset=utf-8\" }, deep: !0 });\n      n.value = s.data.map((p) => C(p));\n    } else {\n      const c = await e.getDirectoryContents(\"\".concat(x).concat(t.value), { details: !0, data: ee() });\n      n.value = c.data.map((s) => C(s));\n    }\n    o.value = !1;\n  }\n  return R([i, t], () => f()), { isLoading: o, files: n, loadFiles: () => f(), getFile: l, client: e };\n}, He = function(i) {\n  const t = m(() => i.value.map((e) => e.split(\"/\")));\n  return { isSupportedMimeType: (e) => {\n    const n = e.split(\"/\");\n    return t.value.some(([o, l]) => (n[0] === o || o === \"*\") && (n[1] === l || l === \"*\"));\n  } };\n}, Ge = { name: \"FilePicker\" }, Ue = b({ ...Ge, props: { buttons: null, name: null, allowPickDirectory: { type: Boolean, default: !1 }, container: { default: \"body\" }, filterFn: { default: void 0 }, mimetypeFilter: { default: () => [] }, multiselect: { type: Boolean, default: !0 }, path: { default: \"/\" } }, emits: [\"close\"], setup(i, { emit: t }) {\n  const e = i, n = m(() => ({ container: e.container, name: e.name, buttons: o.value, size: \"large\", navigationClasses: [\"file-picker__navigation\"], contentClasses: [\"file-picker__content\"] })), o = m(() => (typeof e.buttons == \"function\" ? e.buttons(c.value, u.value, l.value) : e.buttons).map((a) => ({ ...a, callback: async () => {\n    const r = c.value.length === 0 && e.allowPickDirectory ? [await S(u.value)] : c.value;\n    a.callback(r), t(\"close\", c.value);\n  } }))), l = y(\"files\"), f = m(() => l.value === \"favorites\" ? d(\"Favorites\") : l.value === \"recent\" ? d(\"Recent\") : \"\"), c = y([]), s = y((window == null ? void 0 : window.sessionStorage.getItem(\"NC.FilePicker.LastPath\")) || \"/\"), p = y(), u = m({ get: () => l.value === \"files\" ? p.value || e.path || s.value : \"/\", set: (a) => {\n    e.path === void 0 && window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", a), p.value = a;\n  } }), w = y(\"\"), { isSupportedMimeType: h } = He(L(e, \"mimetypeFilter\")), { files: k, isLoading: g, loadFiles: _, getFile: S, client: N } = je(l, u);\n  A(() => _());\n  const B = m(() => {\n    let a = k.value;\n    return e.mimetypeFilter.length > 0 && (a = a.filter((r) => r.type === \"folder\" || r.mime && h(r.mime))), w.value && (a = a.filter((r) => r.basename.toLowerCase().includes(w.value.toLowerCase()))), e.filterFn && (a = a.filter((r) => e.filterFn(r))), a;\n  }), I = m(() => l.value === \"files\" ? d(\"Upload some content or sync with your devices!\") : l.value === \"recent\" ? d(\"Files and folders you recently modified will show up here.\") : d(\"Files and folders you mark as favorite will show up here.\"));\n  return { __sfc: !0, props: e, emit: t, dialogProps: n, dialogButtons: o, currentView: l, viewHeadline: f, selectedFiles: c, savedPath: s, navigatedPath: p, currentPath: u, filterString: w, isSupportedMimeType: h, files: k, isLoading: g, loadFiles: _, getFile: S, client: N, filteredFiles: B, noFilesDescription: I, onCreateFolder: (a) => {\n    N.createDirectory(M(x, u.value, a)).then(() => _()).catch((r) => se(d(\"Could not create the new folder\")));\n  }, IconFile: O, DialogBase: E, FileList: Pe, FilePickerBreadcrumbs: Ve, FilePickerNavigation: Ee, NcEmptyContent: $, t: d };\n} });\nvar qe = function() {\n  var i = this, t = i._self._c, e = i._self._setupProxy;\n  return t(e.DialogBase, i._b({ on: { close: function(n) {\n    return e.emit(\"close\");\n  } }, scopedSlots: i._u([{ key: \"navigation\", fn: function({ isCollapsed: n }) {\n    return [t(e.FilePickerNavigation, { attrs: { \"is-collapsed\": n, \"current-view\": e.currentView, \"filter-string\": e.filterString }, on: { \"update:currentView\": function(o) {\n      e.currentView = o;\n    }, \"update:current-view\": function(o) {\n      e.currentView = o;\n    }, \"update:filterString\": function(o) {\n      e.filterString = o;\n    }, \"update:filter-string\": function(o) {\n      e.filterString = o;\n    } } })];\n  } }]) }, \"DialogBase\", e.dialogProps, !1), [t(\"div\", { staticClass: \"file-picker__main\" }, [e.currentView === \"files\" ? t(e.FilePickerBreadcrumbs, { attrs: { path: e.currentPath, \"show-menu\": i.allowPickDirectory }, on: { \"update:path\": function(n) {\n    e.currentPath = n;\n  }, \"create-node\": e.onCreateFolder } }) : t(\"div\", { staticClass: \"file-picker__view\" }, [t(\"h3\", [i._v(i._s(e.viewHeadline))])]), e.isLoading || e.filteredFiles.length > 0 ? t(e.FileList, { attrs: { \"allow-pick-directory\": i.allowPickDirectory, files: e.filteredFiles, multiselect: i.multiselect, loading: e.isLoading, path: e.currentPath, \"selected-files\": e.selectedFiles, name: e.viewHeadline }, on: { \"update:path\": [function(n) {\n    e.currentPath = n;\n  }, function(n) {\n    e.currentView = \"files\";\n  }], \"update:selectedFiles\": function(n) {\n    e.selectedFiles = n;\n  }, \"update:selected-files\": function(n) {\n    e.selectedFiles = n;\n  } } }) : e.filterString ? t(e.NcEmptyContent, { attrs: { name: e.t(\"No matching files\"), description: e.t(\"No files matching your filter were found.\") }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n    return [t(e.IconFile)];\n  }, proxy: !0 }]) }) : t(e.NcEmptyContent, { attrs: { name: e.t(\"No files in here\"), description: e.noFilesDescription }, scopedSlots: i._u([{ key: \"icon\", fn: function() {\n    return [t(e.IconFile)];\n  }, proxy: !0 }]) })], 1)]);\n}, Ke = [], $e = F(Ue, qe, Ke, !1, null, \"e305d2fb\", null, null);\nconst ft = $e.exports;\nexport {\n  ft as default\n};\n"],"names":[],"sourceRoot":""}